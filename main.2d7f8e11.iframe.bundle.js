(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1722:function(module,exports,__webpack_require__){var api=__webpack_require__(204),content=__webpack_require__(2736);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1828:function(module,exports,__webpack_require__){__webpack_require__(1829),__webpack_require__(1996),__webpack_require__(1997),__webpack_require__(2858),__webpack_require__(2859),__webpack_require__(2865),__webpack_require__(2866),__webpack_require__(2864),__webpack_require__(2860),__webpack_require__(2867),__webpack_require__(2861),__webpack_require__(2862),__webpack_require__(2868),module.exports=__webpack_require__(2720)},1896:function(module,exports){},1997:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(1237)},2720:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(1237).configure)([__webpack_require__(2721),__webpack_require__(2722)],module,!1)}).call(this,__webpack_require__(508)(module))},2721:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=2721},2722:function(module,exports,__webpack_require__){var map={"./lib/components/FlowDiagramExplorer/flow-diagram-explorer.stories.tsx":2857};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2722},2729:function(module,exports,__webpack_require__){var api=__webpack_require__(204),content=__webpack_require__(2730);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2730:function(module,exports,__webpack_require__){(exports=__webpack_require__(205)(!1)).push([module.i,".FlowDiagramExplorer__SceneItem {\n    position: absolute;\n    backface-visibility: hidden;\n    -webkit-backface-visibility: hidden; /* Chrome and Safari */\n    will-change: transform;\n}\n\n.FlowDiagramExplorer__SceneItem * {\n    will-change: transform;\n}\n",""]),module.exports=exports},2732:function(module,exports,__webpack_require__){var api=__webpack_require__(204),content=__webpack_require__(2733);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2733:function(module,exports,__webpack_require__){(exports=__webpack_require__(205)(!1)).push([module.i,".FlowDiagramExplorer__Scene {\n    position: absolute;\n    display: block;\n}\n",""]),module.exports=exports},2734:function(module,exports,__webpack_require__){var api=__webpack_require__(204),content=__webpack_require__(2735);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2735:function(module,exports,__webpack_require__){(exports=__webpack_require__(205)(!1)).push([module.i,".FlowDiagramExplorer__View {\n    overflow: hidden;\n    position: relative;\n}\n\n.FlowDiagramExplorer__View > div,\n.FlowDiagramExplorer__View > div > div {\n    position: absolute;\n    -webkit-transform-origin: 0 0;\n            transform-origin: 0 0;\n}\n",""]),module.exports=exports},2736:function(module,exports,__webpack_require__){(exports=__webpack_require__(205)(!1)).push([module.i,".FlowDiagramExplorer__effects__unselectable {\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n",""]),module.exports=exports},2737:function(module,exports,__webpack_require__){var api=__webpack_require__(204),content=__webpack_require__(2738);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2738:function(module,exports,__webpack_require__){(exports=__webpack_require__(205)(!1)).push([module.i,".FlowDiagramExplorer__Minimap {\n    position: absolute;\n    padding: 8px;\n    background-color: white;\n    box-shadow: 0px 3px 5px #888888;\n    bottom: 16px;\n    left: 16px;\n    display: block;\n    border-radius: 4px;\n    z-index: 10;\n    transition: height 1s;\n}\n\n.FlowDiagramExplorer__Minimap > div {\n    overflow: hidden;\n    position: relative;\n    width: 100%;\n    height: 100%;\n}\n\n.FlowDiagramExplorer__Minimap > div > div {\n    -webkit-transform-origin: 0 0;\n            transform-origin: 0 0;\n}\n\n.FlowDiagramExplorer__Minimap__View {\n    position: absolute;\n    display: block;\n    z-index: 12;\n    background-color: #246e78;\n    opacity: 0.1;\n}\n\n.FlowDiagramExplorer__NoHoverLayer {\n    position: absolute;\n    z-index: 11;\n    border: 16px transparent solid;\n}\n",""]),module.exports=exports},2741:function(module,exports,__webpack_require__){var api=__webpack_require__(204),content=__webpack_require__(2742);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2742:function(module,exports,__webpack_require__){(exports=__webpack_require__(205)(!1)).push([module.i,".FlowDiagramExplorer__MapActions {\n    position: absolute;\n    right: 0px;\n    bottom: 0px;\n}\n\nbutton.FlowDiagramExplorer__MapActions__Fab {\n    margin: 16px;\n    background-color: white;\n    color: #246e78;\n    display: flex;\n}\n",""]),module.exports=exports},2745:function(module,exports,__webpack_require__){var api=__webpack_require__(204),content=__webpack_require__(2746);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2746:function(module,exports,__webpack_require__){(exports=__webpack_require__(205)(!1)).push([module.i,".FlowDiagramExplorer__Map {\n    position: relative;\n}\n",""]),module.exports=exports},2747:function(module,exports,__webpack_require__){var api=__webpack_require__(204),content=__webpack_require__(2748);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2748:function(module,exports,__webpack_require__){(exports=__webpack_require__(205)(!1)).push([module.i,".FlowDiagramExplorer__DiagramSkeleton {\n    width: 100%;\n    height: 90vh;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n",""]),module.exports=exports},2753:function(module,exports,__webpack_require__){var api=__webpack_require__(204),content=__webpack_require__(2754);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2754:function(module,exports,__webpack_require__){(exports=__webpack_require__(205)(!1)).push([module.i,'.FlowDiagramExplorer__Timeline {\n    position: relative;\n    -webkit-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n\n.FlowDiagramExplorer__InnerTimeline {\n    padding: 16px;\n    background-color: white;\n    box-shadow: 0px 3px 5px #888888;\n    display: block;\n    border-radius: 8px;\n}\n\n.FlowDiagramExplorer__Timeline__CurrentSelectionLabel {\n    position: absolute;\n    left: 50%;\n    margin-left: -120px;\n    width: 204px;\n    top: -75px;\n    padding-top: 12px;\n    padding-bottom: 4px;\n    padding-left: 8px;\n    padding-right: 52px;\n    background-color: white;\n    box-shadow: 0px 3px 5px #888888;\n    display: block;\n    border-radius: 8px;\n    white-space: nowrap;\n    text-align: center;\n}\n\n.FlowDiagramExplorer__Timeline__CurrentSelectionLabel button:first-of-type {\n    margin-right: 8px;\n}\n\nbutton.FlowDiagramExplorer__Timeline__Toggle {\n    margin-top: -7px;\n}\n\n.FlowDiagramExplorer__Timeline__DatePicker {\n    width: 160px;\n}\n\n.FlowDiagramExplorer__Timeline__Frames {\n    display: flex;\n    position: relative;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: center;\n    margin-bottom: 16px;\n    margin-left: 25px;\n    margin-right: 25px;\n    height: 38px;\n    cursor: ew-resize;\n}\n\n.FlowDiagramExplorer__Timeline__Slider {\n    background-color: black;\n    border: 1px white solid;\n    width: 7px;\n    margin-left: -4px;\n    height: 45px;\n    display: block;\n    position: absolute;\n    cursor: ew-resize;\n    border-bottom-left-radius: 15px;\n    border-bottom-right-radius: 15px;\n    z-index: 12;\n}\n\n.FlowDiagramExplorer__Timeline__HoverSlider {\n    background-color: black;\n    opacity: 0.3;\n    border: 1px white solid;\n    width: 7px;\n    margin-left: -4px;\n    height: 45px;\n    display: block;\n    position: absolute;\n    cursor: ew-resize;\n    border-bottom-left-radius: 15px;\n    border-bottom-right-radius: 15px;\n    z-index: 11;\n}\n\n.FlowDiagramExplorer__Timeline__HoverSlider__Tooltip {\n    position: absolute;\n    top: -30px;\n    background-color: black;\n    color: white;\n    left: -60px;\n    width: 120px;\n    padding: 5px;\n    border-radius: 8px;\n    text-align: center;\n    font-size: 0.8em;\n}\n\n.FlowDiagramExplorer__Timeline__Frame {\n    background-color: #deedee;\n    height: 30px;\n    border-radius: 4px;\n    margin-left: 2px;\n    margin-right: 2px;\n    box-sizing: border-box;\n}\n\n.FlowDiagramExplorer__Timeline__Frame:first-child {\n    margin-left: 0px;\n}\n\n.FlowDiagramExplorer__Timeline__Frame:last-child {\n    margin-right: 0px;\n}\n\n.FlowDiagramExplorer__Timeline__Frames--active,\n.FlowDiagramExplorer__Timeline__Frames--active:hover {\n    background-color: #007079;\n    height: 38px;\n    transition: height 0.25s;\n    transition-timing-function: ease-in-out;\n}\n\n.FlowDiagramExplorer__Timeline__Axis {\n    border-top: 1px #e0e0e0 solid;\n    margin-left: 25px;\n    margin-right: 25px;\n    position: relative;\n    height: 35px;\n}\n\n.FlowDiagramExplorer__Timeline__AxisLabel {\n    padding-top: 20px;\n    position: absolute;\n    display: block;\n    margin-left: -25px;\n    width: 50px;\n    text-align: center;\n    text-transform: uppercase;\n    white-space: nowrap;\n    font-size: 12px;\n    top: 0;\n}\n\n.FlowDiagramExplorer__Timeline__AxisTick {\n    top: 0px;\n    width: 1px;\n    height: 5px;\n    background-color: #e0e0e0;\n    position: absolute;\n    display: block;\n}\n\n.FlowDiagramExplorer__Timeline__AxisLabel::after {\n    top: 0px;\n    left: 25px;\n    width: 1px;\n    height: 15px;\n    background-color: #e0e0e0;\n    position: absolute;\n    display: block;\n    content: "";\n}\n',""]),module.exports=exports},2760:function(module,exports,__webpack_require__){var api=__webpack_require__(204),content=__webpack_require__(2761);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2761:function(module,exports,__webpack_require__){(exports=__webpack_require__(205)(!1)).push([module.i,".FlowDiagramExplorer {\n    font-family: sans-serif;\n    position: relative;\n}\n\n.FlowDiagramExplorer__Levels {\n    position: absolute;\n    padding: 16px;\n    background-color: white;\n    box-shadow: 0px 3px 5px #888888;\n    top: 16px;\n    left: 16px;\n    height: 20px;\n    display: block;\n    border-radius: 4px;\n    z-index: 10;\n}\n\n.FlowDiagramExplorer__TimelineContainer {\n    position: absolute;\n    bottom: 16px;\n    right: 150px;\n    left: 250px;\n    z-index: 10;\n}\n",""]),module.exports=exports},2853:function(module,exports,__webpack_require__){var api=__webpack_require__(204),content=__webpack_require__(2854);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2854:function(module,exports,__webpack_require__){(exports=__webpack_require__(205)(!1)).push([module.i,".FlowDiagramExplorer__EdgeLabel {\n    display: inline;\n    color: black;\n    background-color: #f7f7f7;\n    padding: 8px;\n    width: auto;\n    height: 20px;\n    margin-left: -50%;\n    margin-top: -10px;\n    white-space: nowrap;\n}\n",""]),module.exports=exports},2855:function(module,exports,__webpack_require__){var api=__webpack_require__(204),content=__webpack_require__(2856);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2856:function(module,exports,__webpack_require__){(exports=__webpack_require__(205)(!1)).push([module.i,'.RenderLibrary__DiagramNode {\n    padding: 24px;\n    width: 172px;\n    height: 92px;\n    margin-top: -70px;\n    margin-left: -110px;\n    background-color: #fff;\n    border: 2px #233746 solid;\n    color: #233746;\n    border-radius: 4px;\n    font-size: 1em;\n    white-space: pre;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n}\n\n.RenderLibrary__DiagramNode:hover {\n    border-color: #e51139;\n    -webkit-transform: scale(1.01, 1.01);\n            transform: scale(1.01, 1.01);\n    -webkit-transform-origin: center;\n            transform-origin: center;\n}\n\n.RenderLibrary__DiagramNode:hover .RenderLibrary__DiagramSymbol * {\n    stroke: #e51139;\n}\n\n.RenderLibrary__DiagramNode:hover .RenderLibrary__DiagramSymbol *[fill="#000000"] {\n    fill: #e51139;\n}\n\n.RenderLibrary__DiagramSymbol {\n    max-height: 64px;\n    max-width: 120px;\n    margin-bottom: 1rem;\n}\n\n.RenderLibrary__DiagramSymbol * {\n    stroke-width: 4;\n    stroke: #3e9299;\n}\n\n.RenderLibrary__DiagramSymbol *[fill="#000000"] {\n    fill: #3e9299;\n}\n',""]),module.exports=exports},2857:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simple",(function(){return Simple})),__webpack_require__.d(__webpack_exports__,"Basic",(function(){return Basic})),__webpack_require__.d(__webpack_exports__,"Complex",(function(){return Complex}));__webpack_require__(1719);var SceneItemType,react=__webpack_require__(0),react_default=__webpack_require__.n(react),ORIGIN=(__webpack_require__(429),__webpack_require__(1720),__webpack_require__(134),__webpack_require__(157),__webpack_require__(158),__webpack_require__(159),__webpack_require__(160),__webpack_require__(136),__webpack_require__(161),__webpack_require__(163),__webpack_require__(162),__webpack_require__(184),__webpack_require__(566),__webpack_require__(567),__webpack_require__(1721),__webpack_require__(2728),Object.freeze({x:0,y:0})),pointDifference=function pointDifference(point1,point2){return{x:point1.x-point2.x,y:point1.y-point2.y}},pointSum=function pointSum(point1,point2){return{x:point1.x+point2.x,y:point1.y+point2.y}},pointMultiplyWithScalar=function pointMultiplyWithScalar(point,scalar){return{x:point.x*scalar,y:point.y*scalar}},pointsAreEqual=function pointsAreEqual(point1,point2){return point1.x===point2.x&&point1.y===point2.y},sizesAreEqual=function sizesAreEqual(size1,size2){return size1.width===size2.width&&size1.height===size2.height},jsx_runtime=(__webpack_require__(2729),__webpack_require__(4));!function(SceneItemType){SceneItemType[SceneItemType.Node=0]="Node",SceneItemType[SceneItemType.Flow=1]="Flow",SceneItemType[SceneItemType.Definition=2]="Definition",SceneItemType[SceneItemType.Label=3]="Label"}(SceneItemType||(SceneItemType={}));var scene_item_SceneItem=function SceneItem(props){var id=props.id,zIndex=props.zIndex,onClick=props.onClick,viewCenterPoint=props.viewCenterPoint,viewSize=props.viewSize,clickable=props.clickable,onMouseEnter=props.onMouseEnter,onMouseLeave=props.onMouseLeave,animation=props.animation,animationFade=props.animationFade,hoverable=props.hoverable||!1,currentAnimationStart=animation&&void 0!==animationFade&&animation.fadePositions.reverse().find((function(el){return el.fadePosition<=animationFade})),currentAnimationEnd=animation&&void 0!==animationFade&&animation.fadePositions.find((function(el){return el.fadePosition>=animationFade})),position=animation&&void 0!==animationFade&&currentAnimationStart&&currentAnimationEnd&&currentAnimationStart.attributes.position&&currentAnimationEnd.attributes.position?pointSum(currentAnimationStart.attributes.position,pointMultiplyWithScalar(pointDifference(currentAnimationEnd.attributes.position,currentAnimationStart.attributes.position),animationFade)):props.position,size=animation&&void 0!==animationFade&&currentAnimationStart&&currentAnimationEnd&&currentAnimationStart.attributes.size&&currentAnimationEnd.attributes.size?function sizeSum(size1,size2){return{width:size1.width+size2.width,height:size1.width+size2.width}}(currentAnimationStart.attributes.size,function sizeMultiplyWithScalar(size1,scalar){return{width:size1.width*scalar,height:size1.width*scalar}}(function sizeDifference(size1,size2){return{width:size1.width-size2.width,height:size1.width-size2.width}}(currentAnimationEnd.attributes.size,currentAnimationStart.attributes.size),animationFade)):props.size,opacity=animation&&void 0!==animationFade&&currentAnimationStart&&currentAnimationEnd&&void 0!==currentAnimationStart.attributes.opacity&&void 0!==currentAnimationEnd.attributes.opacity?currentAnimationStart.attributes.opacity+(currentAnimationEnd.attributes.opacity-currentAnimationStart.attributes.opacity)*animationFade:1;return viewCenterPoint&&viewSize&&function isPartlyContained(centerPoint1,dimensions1,centerPoint2,dimensions2){return!(centerPoint1.x+dimensions1.width/2<centerPoint2.x-dimensions2.width/2||centerPoint1.x-dimensions1.width/2>centerPoint2.x+dimensions2.width/2||centerPoint1.y+dimensions1.height/2<centerPoint2.y-dimensions2.height/2||centerPoint1.y-dimensions1.height/2>centerPoint2.y+dimensions2.height/2)}(viewCenterPoint,viewSize,position,size)||!viewCenterPoint||!viewSize?Object(jsx_runtime.jsx)("div",{"data-id":id,className:"FlowDiagramExplorer__SceneItem",style:{left:position.x,top:position.y,zIndex:zIndex,cursor:onClick&&clickable?"pointer":"default",opacity:opacity,transform:"scale("+Math.min(size.width,props.size.width)/Math.max(size.width,props.size.width)+")"},onClick:onClick&&clickable?function(){return onClick(id)}:void 0,onMouseEnter:onMouseEnter&&hoverable?function(){return onMouseEnter(id)}:void 0,onMouseLeave:onMouseLeave&&hoverable?function(){return onMouseLeave(id)}:void 0,children:props.children}):Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{})};try{scene_item_SceneItem.displayName="SceneItem",scene_item_SceneItem.__docgenInfo={description:"",displayName:"SceneItem",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"},{value:"3"}]}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"Size"}},position:{defaultValue:null,description:"",name:"position",required:!0,type:{name:"Point"}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!0,type:{name:"number"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"((id: string) => void)"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"((id: string) => void)"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((id: string) => void)"}},viewCenterPoint:{defaultValue:null,description:"",name:"viewCenterPoint",required:!1,type:{name:"Point"}},viewSize:{defaultValue:null,description:"",name:"viewSize",required:!1,type:{name:"Size"}},clickable:{defaultValue:null,description:"",name:"clickable",required:!0,type:{name:"boolean"}},hoverable:{defaultValue:null,description:"",name:"hoverable",required:!1,type:{name:"boolean"}},animation:{defaultValue:null,description:"",name:"animation",required:!1,type:{name:"SceneItemAnimationType"}},animationFade:{defaultValue:null,description:"",name:"animationFade",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/SceneItem/scene-item.tsx#SceneItem"]={docgenInfo:scene_item_SceneItem.__docgenInfo,name:"SceneItem",path:"src/lib/components/SceneItem/scene-item.tsx#SceneItem"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(2732);var usePrevious_usePrevious=function usePrevious(value){var ref=Object(react.useRef)();return Object(react.useEffect)((function(){ref.current=value})),ref.current};function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var scene_Scene=react_default.a.memo((function(props){var id=props.id,centerPoint=props.centerPoint,viewSize=props.viewSize,size=props.size,onNodeClick=props.onNodeClick,onNodeEnter=props.onNodeEnter,onNodeLeave=props.onNodeLeave,children=props.children,animationsOn=void 0!==props.animationsOn&&props.animationsOn,_React$useState2=_slicedToArray(react_default.a.useState([]),2),previousChildren=_React$useState2[0],setPreviousChildren=_React$useState2[1],_React$useState4=_slicedToArray(react_default.a.useState(""),2),previousId=_React$useState4[0],setPreviousId=_React$useState4[1],_React$useState6=_slicedToArray(react_default.a.useState(size),2),previousSize=_React$useState6[0],setPreviousSize=_React$useState6[1],_React$useState8=_slicedToArray(react_default.a.useState([]),2),animations=_React$useState8[0],setAnimations=_React$useState8[1],_React$useState10=_slicedToArray(react_default.a.useState(-1),2),animationFader=_React$useState10[0],setAnimationFader=_React$useState10[1],prevChildren=usePrevious_usePrevious(children),prevSize=usePrevious_usePrevious(size);if(react_default.a.useLayoutEffect((function(){var handledIds=[],newAnimations=[];if(animationsOn&&id===previousId&&(children&&prevChildren&&!function sceneItemsAreEqual(array1,array2){if(array1.length!==array2.length)return!1;for(var i=0;i<array1.length;i++)if(array1[i].props.id!==array2[i].props.id||!pointsAreEqual(array1[i].props.position,array2[i].props.position)||!sizesAreEqual(array1[i].props.size,array2[i].props.size))return!1;return!0}(children,prevChildren)||children&&!prevChildren)){children.forEach((function(child){var handled=!1;if(child.props.type===SceneItemType.Node){if(prevChildren){var prevChild=prevChildren.find((function(el){return el.props.id===child.props.id}));prevChild&&(newAnimations.push({id:child.props.id,fadePositions:[{fadePosition:0,attributes:{position:prevChild.props.position}},{fadePosition:1,attributes:{position:child.props.position}}]}),handled=!0)}handled||child.props.type===SceneItemType.Node&&newAnimations.push({id:child.props.id,fadePositions:[{fadePosition:0,attributes:{opacity:0,size:{width:0,height:0}}},{fadePosition:1,attributes:{opacity:1,size:child.props.size}}]})}if(handled=!1,child.props.type===SceneItemType.Flow||child.props.type===SceneItemType.Label){if(prevChildren)prevChildren.find((function(el){return el.props.id===child.props.id}))&&(newAnimations.push({id:child.props.id,fadePositions:[{fadePosition:0,attributes:{opacity:0,size:{width:0,height:0}}},{fadePosition:1,attributes:{opacity:1,size:child.props.size}}]}),handled=!0);handled||newAnimations.push({id:child.props.id,fadePositions:[{fadePosition:0,attributes:{opacity:0,size:{width:0,height:0}}},{fadePosition:1,attributes:{opacity:1,size:child.props.size}}]})}handledIds.push(child.props.id)})),prevChildren&&prevChildren.forEach((function(prevChild){handledIds.includes(prevChild.props.id)||newAnimations.push({id:prevChild.props.id,fadePositions:[{fadePosition:0,attributes:{opacity:1,size:prevChild.props.size}},{fadePosition:1,attributes:{opacity:0,size:{width:0,height:0}}}]})})),setAnimationFader(0);var currentAnimationFader=0;setTimeout((function updateAnimationFader(){setAnimationFader((function(prevAnimationFader){return Math.min(1,prevAnimationFader+.02)})),(currentAnimationFader+=.02)<1&&setTimeout(updateAnimationFader,10)}),10)}else setAnimationFader(1);setAnimations(newAnimations),setPreviousChildren(prevChildren),setPreviousSize(prevSize),setPreviousId(id)}),[children,id]),!centerPoint||!viewSize||-1===animationFader)return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{});var calculatedSize=previousSize?{width:animationFader<=.5?previousSize.width:size.width,height:animationFader<=.5?previousSize.height:size.height}:size;return Object(jsx_runtime.jsxs)("div",{className:"FlowDiagramExplorer__Scene",style:{width:calculatedSize.width,height:calculatedSize.height},children:[animationFader<1&&previousChildren&&previousChildren.map((function(child){if(children&&children.find((function(el){return el.props.id===child.props.id})))return null;var animation=animations.find((function(el){return el.id===child.props.id}));return react_default.a.cloneElement(child,{viewCenterPoint:centerPoint,viewSize:calculatedSize,onClick:onNodeClick?function(id){return onNodeClick(id)}:void 0,onMouseEnter:onNodeEnter,onMouseLeave:onNodeLeave,animation:animation,animationFade:animationFader})})),children&&children.map((function(child){var animation=animations.find((function(el){return el.id===child.props.id}));return react_default.a.cloneElement(child,{viewCenterPoint:centerPoint,viewSize:viewSize,onClick:onNodeClick?function(id){return onNodeClick(id)}:void 0,onMouseEnter:onNodeEnter,onMouseLeave:onNodeLeave,animation:animation,animationFade:animationFader})}))]})}));try{scene_Scene.displayName="Scene",scene_Scene.__docgenInfo={description:"",displayName:"Scene",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},centerPoint:{defaultValue:null,description:"",name:"centerPoint",required:!1,type:{name:"Point"}},viewSize:{defaultValue:null,description:"",name:"viewSize",required:!1,type:{name:"Size"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"Size"}},animationsOn:{defaultValue:null,description:"",name:"animationsOn",required:!1,type:{name:"boolean"}},onNodeClick:{defaultValue:null,description:"",name:"onNodeClick",required:!1,type:{name:"((nodeId: string) => void)"}},onNodeEnter:{defaultValue:null,description:"",name:"onNodeEnter",required:!1,type:{name:"((nodeId: string) => void)"}},onNodeLeave:{defaultValue:null,description:"",name:"onNodeLeave",required:!1,type:{name:"((nodeId: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/Scene/scene.tsx#Scene"]={docgenInfo:scene_Scene.__docgenInfo,name:"Scene",path:"src/lib/components/Scene/scene.tsx#Scene"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(2734);function useContainerDimensions_slicedToArray(arr,i){return function useContainerDimensions_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useContainerDimensions_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useContainerDimensions_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useContainerDimensions_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useContainerDimensions_arrayLikeToArray(o,minLen)}(arr,i)||function useContainerDimensions_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useContainerDimensions_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useContainerDimensions_useContainerDimensions=function useContainerDimensions(ref){var _React$useState2=useContainerDimensions_slicedToArray(react_default.a.useState({width:0,height:0}),2),dimensions=_React$useState2[0],setDimensions=_React$useState2[1];return react_default.a.useEffect((function(){var getDimensions=function getDimensions(){return{width:ref.current?ref.current.offsetWidth:0,height:ref.current?ref.current.offsetHeight:0}},handleResize=function handleResize(){setDimensions(getDimensions())};return ref.current&&setDimensions(getDimensions()),window.addEventListener("resize",handleResize),function(){window.removeEventListener("resize",handleResize)}}),[ref]),dimensions};__webpack_require__(1722);function usePan_slicedToArray(arr,i){return function usePan_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function usePan_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function usePan_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return usePan_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return usePan_arrayLikeToArray(o,minLen)}(arr,i)||function usePan_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function usePan_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var usePan_usePan=function usePan(ref){var _React$useState2=usePan_slicedToArray(react_default.a.useState(ORIGIN),2),panPosition=_React$useState2[0],setPanPosition=_React$useState2[1],referencePositionRef=react_default.a.useRef(ORIGIN),panningStarted=react_default.a.useRef(!1),handleMouseMove=react_default.a.useCallback((function(e){var referencePosition=referencePositionRef.current,currentPosition={x:e.pageX,y:e.pageY},delta=pointDifference(referencePosition,currentPosition);panningStarted.current?(referencePositionRef.current=currentPosition,setPanPosition((function(panPosition){return pointSum(panPosition,delta)}))):function vectorLength(vector){return Math.sqrt(Math.pow(vector.x,2)+Math.pow(vector.y,2))}(delta)>13.11&&(panningStarted.current=!0)}),[panningStarted,setPanPosition]),handleMouseUp=react_default.a.useCallback((function(){document.removeEventListener("mousemove",handleMouseMove),document.removeEventListener("mouseup",handleMouseUp,!0),document.body.classList.remove("FlowDiagramExplorer__effects__unselectable")}),[handleMouseMove,panningStarted]),handleMouseDown=react_default.a.useCallback((function(e){document.addEventListener("mousemove",handleMouseMove),document.addEventListener("mouseup",handleMouseUp,!0),referencePositionRef.current={x:e.pageX,y:e.pageY},document.body.classList.add("FlowDiagramExplorer__effects__unselectable")}),[handleMouseMove,handleMouseUp]),handleMouseClick=function handleMouseClick(e){!0===panningStarted.current&&e.stopPropagation(),panningStarted.current=!1};return react_default.a.useEffect((function(){return ref.current&&(ref.current.addEventListener("mousedown",handleMouseDown),window.addEventListener("click",handleMouseClick,!0)),function(){ref.current&&(ref.current.removeEventListener("mousedown",handleMouseDown),window.removeEventListener("click",handleMouseClick,!0))}}),[]),panPosition};function useMousePosition_slicedToArray(arr,i){return function useMousePosition_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useMousePosition_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useMousePosition_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useMousePosition_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useMousePosition_arrayLikeToArray(o,minLen)}(arr,i)||function useMousePosition_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useMousePosition_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useMousePosition_useMousePosition=function useMousePosition(ref){var _React$useState2=useMousePosition_slicedToArray(react_default.a.useState({x:0,y:0}),2),position=_React$useState2[0],setPosition=_React$useState2[1];return react_default.a.useEffect((function(){var handleMouseMoveEvent=function handleMouseMoveEvent(e){var left=ref&&ref.current?ref.current.getBoundingClientRect().left:0,top=ref&&ref.current?ref.current.getBoundingClientRect().top:0;setPosition({x:e.pageX-left,y:e.pageY-top})};return ref&&ref.current?ref.current.addEventListener("mousemove",handleMouseMoveEvent):window.addEventListener("mousemove",handleMouseMoveEvent),function(){ref&&ref.current?ref.current.removeEventListener("mousemove",handleMouseMoveEvent):window.removeEventListener("mousemove",handleMouseMoveEvent)}}),[ref]),position};function view_slicedToArray(arr,i){return function view_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function view_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function view_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return view_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return view_arrayLikeToArray(o,minLen)}(arr,i)||function view_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function view_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var view_View=function View(_ref){var initialCenterPoint=_ref.initialCenterPoint,onCenterPointChange=_ref.onCenterPointChange,Scene=_ref.Scene,boundaryBox=_ref.boundaryBox,width=_ref.width,height=_ref.height,scale=_ref.scale,backgroundColor=_ref.backgroundColor,_React$useState2=view_slicedToArray(react_default.a.useState(ORIGIN),2),adjustedOffset=_React$useState2[0],setAdjustedOffset=_React$useState2[1],_React$useState4=view_slicedToArray(react_default.a.useState(!1),2),rendered=_React$useState4[0],setRendered=_React$useState4[1],viewRef=react_default.a.useRef(null),paneRef=react_default.a.useRef(null),viewSize=useContainerDimensions_useContainerDimensions(viewRef),offset=usePan_usePan(viewRef),mousePosition=useMousePosition_useMousePosition(viewRef),previousOffset=usePrevious_usePrevious(offset)||ORIGIN,previousScale=usePrevious_usePrevious(scale)||1;return react_default.a.useLayoutEffect((function(){var delta=pointDifference(previousOffset,offset);if(previousScale===scale)setAdjustedOffset(pointSum(adjustedOffset,delta));else{var factor=scale/previousScale,d=pointMultiplyWithScalar(pointDifference(mousePosition,adjustedOffset),factor-1);setAdjustedOffset(pointDifference(adjustedOffset,d))}}),[offset,scale]),react_default.a.useEffect((function(){setAdjustedOffset({x:viewSize.width/2-initialCenterPoint.x*scale,y:viewSize.height/2-initialCenterPoint.y*scale}),setRendered(!0)}),[initialCenterPoint,viewSize,setAdjustedOffset]),react_default.a.useEffect((function(){var centerPoint={x:(viewSize.width/2-adjustedOffset.x)/scale,y:(viewSize.height/2-adjustedOffset.y)/scale};onCenterPointChange&&onCenterPointChange(centerPoint)}),[onCenterPointChange,scale,adjustedOffset]),Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer__View",ref:viewRef,style:{width:width,height:height,backgroundColor:backgroundColor},children:Object(jsx_runtime.jsx)("div",{style:{left:Math.floor(adjustedOffset.x),top:Math.floor(adjustedOffset.y)},children:Object(jsx_runtime.jsx)("div",{ref:paneRef,style:{transform:"scale("+scale+")",width:boundaryBox.width,height:boundaryBox.height},children:rendered?react_default.a.cloneElement(Scene,{centerPoint:{x:boundaryBox.width/2,y:boundaryBox.height/2},viewSize:{width:boundaryBox.width,height:boundaryBox.height}}):Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{})})})})};view_View.displayName="View";try{view_View.displayName="View",view_View.__docgenInfo={description:"",displayName:"View",props:{initialCenterPoint:{defaultValue:null,description:"",name:"initialCenterPoint",required:!0,type:{name:"Point"}},onCenterPointChange:{defaultValue:null,description:"",name:"onCenterPointChange",required:!1,type:{name:"((newCenterPoint: Point) => void)"}},Scene:{defaultValue:null,description:"",name:"Scene",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},boundaryBox:{defaultValue:null,description:"",name:"boundaryBox",required:!0,type:{name:"Size"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"string | number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"string | number"}},scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/View/view.tsx#View"]={docgenInfo:view_View.__docgenInfo,name:"View",path:"src/lib/components/View/view.tsx#View"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(1624);var clsx_m=__webpack_require__(6);__webpack_require__(2737);function minimap_slicedToArray(arr,i){return function minimap_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function minimap_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function minimap_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return minimap_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return minimap_arrayLikeToArray(o,minLen)}(arr,i)||function minimap_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function minimap_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var minimap_Minimap=function Minimap(props){var initialCenterPoint=props.initialCenterPoint,Scene=props.Scene,viewSize=props.viewSize,boundaryBox=props.boundaryBox,onCenterPointChange=props.onCenterPointChange,scale=props.scale,scaling=Math.min(.1,150/Math.max(boundaryBox.width,boundaryBox.height)),_React$useState2=minimap_slicedToArray(react_default.a.useState(initialCenterPoint),2),centerPoint=_React$useState2[0],setCenterPoint=_React$useState2[1],_React$useState4=minimap_slicedToArray(react_default.a.useState({x:0,y:0}),2),mouseDownPosition=_React$useState4[0],setMouseDownPosition=_React$useState4[1],viewRef=react_default.a.useRef(null),mapRef=react_default.a.useRef(null),offset=usePan_usePan(viewRef),previousOffset=usePrevious_usePrevious(offset)||ORIGIN;react_default.a.useEffect((function(){setCenterPoint({x:initialCenterPoint.x,y:initialCenterPoint.y})}),[initialCenterPoint]),react_default.a.useEffect((function(){var handleMouseDown=function handleMouseDown(e){setMouseDownPosition({x:e.clientX,y:e.clientY})},handleMouseUp=function handleMouseUp(e){if(onCenterPointChange&&Math.sqrt(Math.pow(e.clientX-mouseDownPosition.x,2)+Math.pow(e.clientY-mouseDownPosition.y,2))<1&&mapRef.current){var adjustedCenterPoint=function calcCenterPointWithinBoundaryBox(centerPoint,boundaryBox){var maxX=boundaryBox.width,maxY=boundaryBox.height;return{x:Math.max(0,Math.min(maxX,centerPoint.x)),y:Math.max(0,Math.min(maxY,centerPoint.y))}}({x:(mouseDownPosition.x-mapRef.current.getBoundingClientRect().left-parseInt(window.getComputedStyle(mapRef.current).getPropertyValue("padding-left")))/scaling,y:(mouseDownPosition.y-mapRef.current.getBoundingClientRect().top-parseInt(window.getComputedStyle(mapRef.current).getPropertyValue("padding-top")))/scaling},boundaryBox);setCenterPoint(adjustedCenterPoint),onCenterPointChange(adjustedCenterPoint)}};return mapRef.current&&(mapRef.current.addEventListener("mousedown",handleMouseDown),window.addEventListener("mouseup",handleMouseUp)),function(){mapRef.current&&(mapRef.current.removeEventListener("mousedown",handleMouseDown),window.removeEventListener("mouseup",handleMouseUp))}}),[mapRef,mouseDownPosition]),react_default.a.useEffect((function(){var delta=pointDifference(offset,previousOffset),adjustedCenterPoint={x:centerPoint.x-delta.x/scaling,y:centerPoint.y-delta.y/scaling};setCenterPoint(adjustedCenterPoint),onCenterPointChange&&onCenterPointChange(adjustedCenterPoint)}),[offset]);var rectangle=function calcViewFrameWithinBoundaries(centerPoint,viewSize,boundaryBox,scale){var unboundLeft=centerPoint.x-viewSize.width/2/scale,unboundTop=centerPoint.y-viewSize.height/2/scale,unboundRight=centerPoint.x+viewSize.width/2/scale,unboundBottom=centerPoint.y+viewSize.height/2/scale;return{left:Math.min(Math.max(unboundLeft,0),boundaryBox.width),top:Math.min(Math.max(unboundTop,0),boundaryBox.height),width:Math.min(viewSize.width/scale,unboundRight,boundaryBox.width-unboundLeft,boundaryBox.width),height:Math.min(viewSize.height/scale,unboundBottom,boundaryBox.height-unboundTop,boundaryBox.height)}}(centerPoint,viewSize,boundaryBox,scale);return Object(jsx_runtime.jsx)("div",{className:Object(clsx_m.a)("FlowDiagramExplorer__Minimap","FlowDiagramExplorer__effects__unselectable"),style:{width:boundaryBox.width*scaling,height:boundaryBox.height*scaling},ref:mapRef,children:Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsxs)("div",{style:{transform:"scale("+scaling+")"},children:[react_default.a.cloneElement(Scene,{animationsOn:!1,centerPoint:{x:boundaryBox.width/2,y:boundaryBox.height/2},viewSize:{width:boundaryBox.width,height:boundaryBox.height}}),Object(jsx_runtime.jsx)("div",{ref:viewRef,className:"FlowDiagramExplorer__Minimap__View",style:{width:rectangle.width,height:rectangle.height,left:rectangle.left,top:rectangle.top}}),Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer__NoHoverLayer",style:{width:boundaryBox.width,height:boundaryBox.height}})]})})})};minimap_Minimap.displayName="Minimap";try{minimap_Minimap.displayName="Minimap",minimap_Minimap.__docgenInfo={description:"",displayName:"Minimap",props:{initialCenterPoint:{defaultValue:null,description:"",name:"initialCenterPoint",required:!0,type:{name:"Point"}},Scene:{defaultValue:null,description:"",name:"Scene",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},viewSize:{defaultValue:null,description:"",name:"viewSize",required:!0,type:{name:"Size"}},boundaryBox:{defaultValue:null,description:"",name:"boundaryBox",required:!0,type:{name:"Size"}},onCenterPointChange:{defaultValue:null,description:"",name:"onCenterPointChange",required:!1,type:{name:"((newCenterPoint: Point) => void)"}},scale:{defaultValue:null,description:"",name:"scale",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/Minimap/minimap.tsx#Minimap"]={docgenInfo:minimap_Minimap.__docgenInfo,name:"Minimap",path:"src/lib/components/Minimap/minimap.tsx#Minimap"})}catch(__react_docgen_typescript_loader_error){}var MapActionType,Fab=__webpack_require__(2899),ZoomIn=__webpack_require__(1776),ZoomIn_default=__webpack_require__.n(ZoomIn),ZoomOut=__webpack_require__(1777),ZoomOut_default=__webpack_require__.n(ZoomOut),FilterCenterFocus=__webpack_require__(1778),FilterCenterFocus_default=__webpack_require__.n(FilterCenterFocus),core_react_umd=__webpack_require__(115);__webpack_require__(2741);!function(MapActionType){MapActionType[MapActionType.ZoomIn=0]="ZoomIn",MapActionType[MapActionType.ZoomOut=1]="ZoomOut",MapActionType[MapActionType.CenterView=2]="CenterView"}(MapActionType||(MapActionType={}));var map_actions_MapActions=function MapActions(props){var handleActionTriggered=react_default.a.useCallback((function(action){props.onActionTriggered(action)}),[props.onActionTriggered]);return Object(jsx_runtime.jsxs)("div",{className:"FlowDiagramExplorer__MapActions",children:[Object(jsx_runtime.jsx)(core_react_umd.Tooltip,{title:"Zoom in",placement:"left",children:Object(jsx_runtime.jsx)(Fab.a,{className:"FlowDiagramExplorer__MapActions__Fab","aria-label":"zoom in",onClick:function onClick(){return handleActionTriggered(MapActionType.ZoomIn)},children:Object(jsx_runtime.jsx)(ZoomIn_default.a,{})})}),Object(jsx_runtime.jsx)(core_react_umd.Tooltip,{title:"Zoom out",placement:"left",children:Object(jsx_runtime.jsx)(Fab.a,{className:"FlowDiagramExplorer__MapActions__Fab","aria-label":"zoom out",onClick:function onClick(){return handleActionTriggered(MapActionType.ZoomOut)},children:Object(jsx_runtime.jsx)(ZoomOut_default.a,{})})}),Object(jsx_runtime.jsx)(core_react_umd.Tooltip,{title:"View all",placement:"left",children:Object(jsx_runtime.jsx)(Fab.a,{className:"FlowDiagramExplorer__MapActions__Fab","aria-label":"view all",onClick:function onClick(){return handleActionTriggered(MapActionType.CenterView)},children:Object(jsx_runtime.jsx)(FilterCenterFocus_default.a,{})})})]})};map_actions_MapActions.displayName="MapActions";try{map_actions_MapActions.displayName="MapActions",map_actions_MapActions.__docgenInfo={description:"",displayName:"MapActions",props:{onActionTriggered:{defaultValue:null,description:"",name:"onActionTriggered",required:!0,type:{name:"(action: MapActionType, data?: { [key: string]: string | number | boolean; } | undefined) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/MapActions/map-actions.tsx#MapActions"]={docgenInfo:map_actions_MapActions.__docgenInfo,name:"MapActions",path:"src/lib/components/MapActions/map-actions.tsx#MapActions"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(2743);function useZoom_slicedToArray(arr,i){return function useZoom_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useZoom_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useZoom_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useZoom_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useZoom_arrayLikeToArray(o,minLen)}(arr,i)||function useZoom_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useZoom_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__(2745);function map_slicedToArray(arr,i){return function map_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function map_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function map_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return map_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return map_arrayLikeToArray(o,minLen)}(arr,i)||function map_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function map_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var map_Map=function Map(props){var sceneSize=props.sceneSize,Scene=props.Scene,width=props.width,height=props.height,id=props.id,config=props.config,mapRef=react_default.a.useRef(null),size=useContainerDimensions_useContainerDimensions(mapRef),_React$useState2=map_slicedToArray(react_default.a.useState({x:sceneSize.width/2,y:sceneSize.height/2}),2),viewCenterPoint=_React$useState2[0],setViewCenterPoint=_React$useState2[1],_React$useState4=map_slicedToArray(react_default.a.useState({x:sceneSize.width/2,y:sceneSize.height/2}),2),centerPoint=_React$useState4[0],setCenterPoint=_React$useState4[1],_React$useState6=map_slicedToArray(react_default.a.useState({width:sceneSize.width,height:sceneSize.height}),2),boundaryBox=_React$useState6[0],setBoundaryBox=_React$useState6[1],_React$useState8=map_slicedToArray(react_default.a.useState(.5),2),minScale=_React$useState8[0],setMinScale=_React$useState8[1],_useZoom=function useZoom(_ref){var ref=_ref.ref,_ref$minScale=_ref.minScale,minScale=void 0===_ref$minScale?.5:_ref$minScale,_ref$maxScale=_ref.maxScale,maxScale=void 0===_ref$maxScale?3:_ref$maxScale,_ref$delta=_ref.delta,delta=void 0===_ref$delta?.1:_ref$delta,_React$useState2=useZoom_slicedToArray(react_default.a.useState(1),2),scale=_React$useState2[0],setScale=_React$useState2[1];react_default.a.useEffect((function(){var handleWheelEvent=function handleWheelEvent(e){e.preventDefault(),setScale(Math.min(maxScale,Math.max(minScale,scale-Math.sign(e.deltaY)*delta)))},handleDblClickEvent=function handleDblClickEvent(e){e.preventDefault();var i=0,newScale=scale,timer=setInterval((function(){newScale+=function quad(x){return-.2*x*x+3.2}(i++-4)/4*delta,setScale(Math.min(maxScale,Math.max(minScale,newScale))),i>8&&clearInterval(timer)}),50)};return ref.current&&(ref.current.addEventListener("wheel",handleWheelEvent),ref.current.addEventListener("dblclick",handleDblClickEvent)),function(){ref.current&&(ref.current.removeEventListener("wheel",handleWheelEvent),ref.current.removeEventListener("dblclick",handleDblClickEvent))}}),[ref,scale,minScale,maxScale]);var resetScale=react_default.a.useCallback((function(){setScale(1)}),[]),setNewScale=react_default.a.useCallback((function(newScale){setScale(newScale)}),[setScale]);return{scale:scale,resetScale:resetScale,setNewScale:setNewScale}}({ref:mapRef,minScale:minScale}),scale=_useZoom.scale,setNewScale=_useZoom.setNewScale;react_default.a.useEffect((function(){var minScale=Math.min(.3,.5*Math.min(size.height/boundaryBox.height,size.width/boundaryBox.width));setMinScale(minScale)}),[size,boundaryBox]),react_default.a.useEffect((function(){setBoundaryBox({width:sceneSize.width,height:sceneSize.height})}),[sceneSize]),react_default.a.useEffect((function(){var newBoundaryBox={width:sceneSize.width,height:sceneSize.height};setBoundaryBox(newBoundaryBox),setViewCenterPoint({x:newBoundaryBox.width/2,y:newBoundaryBox.height/2}),setCenterPoint({x:newBoundaryBox.width/2,y:newBoundaryBox.height/2}),setNewScale(1)}),[id]);var handleViewCenterPointChange=react_default.a.useCallback((function(newCenterPoint){setCenterPoint(newCenterPoint)}),[setCenterPoint]),handleMinimapCenterPointChange=react_default.a.useCallback((function(newCenterPoint){setViewCenterPoint(newCenterPoint),setCenterPoint(newCenterPoint)}),[setViewCenterPoint,setCenterPoint]),handleActionTriggered=react_default.a.useCallback((function(action){var _actions;((_actions={})[MapActionType.ZoomIn]=function(){var newScale=Math.min(3,scale+.1);setNewScale(newScale),setViewCenterPoint(centerPoint),setCenterPoint(centerPoint)},_actions[MapActionType.ZoomOut]=function(){var newScale=Math.max(.5,scale-.1);setNewScale(newScale),setViewCenterPoint(centerPoint),setCenterPoint({x:boundaryBox.width/2*newScale,y:boundaryBox.height/2*newScale})},_actions[MapActionType.CenterView]=function(){var mapSceneRatio=Math.min(size.height/boundaryBox.height,size.width/boundaryBox.width),mapSceneRatioWithMargin=.1*Math.floor(mapSceneRatio/.1)-.1,newScale=Math.min(Math.max(mapSceneRatioWithMargin,.5),scale);setNewScale(newScale),setViewCenterPoint({x:boundaryBox.width/2,y:boundaryBox.height/2}),setCenterPoint({x:boundaryBox.width/2,y:boundaryBox.height/2})},_actions)[action]()}),[setViewCenterPoint,setCenterPoint,scale,centerPoint,setNewScale,size,boundaryBox]);return Object(jsx_runtime.jsxs)("div",{ref:mapRef,className:"FlowDiagramExplorer__Map",style:{width:width,height:height},children:[Object(jsx_runtime.jsx)(view_View,{initialCenterPoint:viewCenterPoint,width:width,height:height,Scene:react_default.a.cloneElement(props.ActionHandler,{},Scene),boundaryBox:boundaryBox,onCenterPointChange:handleViewCenterPointChange,scale:scale,backgroundColor:config.backgroundColor}),Object(jsx_runtime.jsx)(minimap_Minimap,{initialCenterPoint:centerPoint,viewSize:size,boundaryBox:boundaryBox,Scene:Scene,onCenterPointChange:handleMinimapCenterPointChange,scale:scale}),Object(jsx_runtime.jsx)(map_actions_MapActions,{onActionTriggered:handleActionTriggered})]})};map_Map.displayName="Map";try{map_Map.displayName="Map",map_Map.__docgenInfo={description:"",displayName:"Map",props:{Scene:{defaultValue:null,description:"",name:"Scene",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},ActionHandler:{defaultValue:null,description:"",name:"ActionHandler",required:!0,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},sceneSize:{defaultValue:null,description:"",name:"sceneSize",required:!0,type:{name:"Size"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"string | number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"string | number"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"DiagramConfig"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/Map/map.tsx#Map"]={docgenInfo:map_Map.__docgenInfo,name:"Map",path:"src/lib/components/Map/map.tsx#Map"})}catch(__react_docgen_typescript_loader_error){}var react_content_loader_es=__webpack_require__(1779),diagram_skeleton_DiagramSkeleton=(__webpack_require__(2747),function DiagramSkeleton(){return Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer__DiagramSkeleton",children:Object(jsx_runtime.jsxs)(react_content_loader_es.a,{speed:2,width:500,height:500,viewBox:"0 0 500 500",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(jsx_runtime.jsx)("rect",{x:"8",y:"196",rx:"0",ry:"0",width:"168",height:"94"}),Object(jsx_runtime.jsx)("rect",{x:"304",y:"37",rx:"0",ry:"0",width:"168",height:"94"}),Object(jsx_runtime.jsx)("rect",{x:"304",y:"196",rx:"0",ry:"0",width:"168",height:"94"}),Object(jsx_runtime.jsx)("rect",{x:"303",y:"356",rx:"0",ry:"0",width:"168",height:"94"}),Object(jsx_runtime.jsx)("rect",{x:"175",y:"244",rx:"0",ry:"0",width:"129",height:"2"}),Object(jsx_runtime.jsx)("rect",{x:"247",y:"82",rx:"0",ry:"0",width:"2",height:"321"}),Object(jsx_runtime.jsx)("rect",{x:"249",y:"82",rx:"0",ry:"0",width:"59",height:"2"}),Object(jsx_runtime.jsx)("rect",{x:"248",y:"402",rx:"0",ry:"0",width:"59",height:"2"})]})})});diagram_skeleton_DiagramSkeleton.displayName="DiagramSkeleton";__webpack_require__(1723);var icons_umd=__webpack_require__(838),dayjs_min=__webpack_require__(20),dayjs_min_default=__webpack_require__.n(dayjs_min),isBetween=__webpack_require__(1780),isBetween_default=__webpack_require__.n(isBetween),useUtils_cfb96ac9=__webpack_require__(123),DatePicker=__webpack_require__(2903),index_esm=__webpack_require__(1781);__webpack_require__(2753);function timeline_slicedToArray(arr,i){return function timeline_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function timeline_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||timeline_unsupportedIterableToArray(arr,i)||function timeline_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function timeline_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return timeline_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?timeline_arrayLikeToArray(o,minLen):void 0}}function timeline_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}core_react_umd.Icon.add({visibility:icons_umd.visibility,visibility_off:icons_umd.visibility_off,calendar:icons_umd.calendar}),dayjs_min_default.a.extend(isBetween_default.a);var timeline_Timeline=function Timeline(props){var _React$useState2=timeline_slicedToArray(react_default.a.useState([]),2),axisTicks=_React$useState2[0],setAxisTicks=_React$useState2[1],_React$useState4=timeline_slicedToArray(react_default.a.useState([]),2),frames=_React$useState4[0],setFrames=_React$useState4[1],_React$useState6=timeline_slicedToArray(react_default.a.useState(!0),2),visible=_React$useState6[0],setVisible=_React$useState6[1],framesRef=react_default.a.useRef(null),_React$useState8=timeline_slicedToArray(react_default.a.useState(0),2),timelineWidth=_React$useState8[0],setTimelineWidth=_React$useState8[1],_React$useState10=timeline_slicedToArray(react_default.a.useState(props.initialDate),2),currentDate=_React$useState10[0],setCurrentDate=_React$useState10[1],_React$useState12=timeline_slicedToArray(react_default.a.useState(props.initialDate),2),currentHoverDate=_React$useState12[0],setCurrentHoverDate=_React$useState12[1],_React$useState14=timeline_slicedToArray(react_default.a.useState([]),2),sortedTimeFrames=_React$useState14[0],setSortedTimeFrames=_React$useState14[1],size=useContainerDimensions_useContainerDimensions(framesRef),mousePosition=useMousePosition_useMousePosition(framesRef),_React$useState16=timeline_slicedToArray(react_default.a.useState(!1),2),sliderActive=_React$useState16[0],setSliderActive=_React$useState16[1],_React$useState18=timeline_slicedToArray(react_default.a.useState(0),2),resolution=_React$useState18[0],setResolution=_React$useState18[1],_React$useState20=timeline_slicedToArray(react_default.a.useState(!1),2),hoverSliderVisible=_React$useState20[0],setHoverSliderVisible=_React$useState20[1],_React$useState22=timeline_slicedToArray(react_default.a.useState(!1),2),datePickerOpen=_React$useState22[0],setDatePickerOpen=_React$useState22[1];react_default.a.useEffect((function(){visible&&setTimelineWidth(size.width)}),[size]),react_default.a.useEffect((function(){visible&&framesRef.current&&setTimelineWidth(framesRef.current.offsetWidth)}),[visible]),react_default.a.useEffect((function(){setCurrentDate(props.initialDate)}),[props.initialDate]),react_default.a.useEffect((function(){if(props.timeFrames&&props.timeFrames.length>0){var sortedFrames=props.timeFrames.sort((function(a,b){return a.startDate.valueOf()-b.startDate.valueOf()}));setSortedTimeFrames(sortedFrames),(!currentDate||currentDate.isBefore(sortedFrames[0].startDate)||currentDate.isAfter(sortedFrames[sortedFrames.length-1].endDate))&&(setCurrentDate(sortedFrames[0].startDate),setCurrentHoverDate(sortedFrames[0].startDate))}}),[props.timeFrames,setSortedTimeFrames]),react_default.a.useEffect((function(){if(sortedTimeFrames&&sortedTimeFrames.length>0&&timelineWidth>0){var _step,startTimestamp=sortedTimeFrames[0].startDate,endTimestamp=sortedTimeFrames[sortedTimeFrames.length-1].endDate,delta=endTimestamp.diff(startTimestamp),pixelPerMillisecond=timelineWidth/delta,frameItems=[],_iterator=function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=timeline_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}(sortedTimeFrames);try{for(_iterator.s();!(_step=_iterator.n()).done;){var sortedFrame=_step.value;frameItems.push({timeFrame:sortedFrame,width:sortedFrame.endDate.diff(sortedFrame.startDate)*pixelPerMillisecond})}}catch(err){_iterator.e(err)}finally{_iterator.f()}setFrames(frameItems);for(var newAxisTicks=[],msPerResolutionStep=[6e4,36e5,864e5,6048e5,26352e5,31536e6,31536e7],datetimeFormats=["HH","MMM Do","MMM 'YY","MMM 'YY","YYYY","YYYY","YYYY"],_resolution=0,timeFormat="",resolutionIndex=0;resolutionIndex<msPerResolutionStep.length;resolutionIndex++)if(endTimestamp.diff(startTimestamp).valueOf()/msPerResolutionStep[resolutionIndex]<=timelineWidth){_resolution=msPerResolutionStep[resolutionIndex],timeFormat=datetimeFormats[resolutionIndex];break}setResolution(_resolution);for(var numLabels=Math.min(5,Math.floor(timelineWidth/60)),numTicks=Math.floor(endTimestamp.diff(startTimestamp).valueOf()/_resolution),lastLabel="",lastLabelIndex=0,i=0;i<numTicks;i++){var time=dayjs_min_default()(startTimestamp).valueOf()+i*_resolution,label=void 0;i/Math.ceil(numTicks/numLabels)>=lastLabelIndex&&lastLabel!==dayjs_min_default()(time).format(timeFormat)&&(label=dayjs_min_default()(time).format(timeFormat),lastLabelIndex++),newAxisTicks.push({label:label,position:(time-startTimestamp.valueOf())*pixelPerMillisecond}),lastLabel=dayjs_min_default()(time).format(timeFormat)}setAxisTicks(newAxisTicks)}else setAxisTicks([]),setFrames([])}),[timelineWidth,sortedTimeFrames]),react_default.a.useEffect((function(){if(sortedTimeFrames.length>0&&timelineWidth){var numTicks=Math.floor(sortedTimeFrames[sortedTimeFrames.length-1].endDate.diff(sortedTimeFrames[0].startDate).valueOf()/resolution),deltaTick=timelineWidth/numTicks,position=Math.max(0,Math.min(Math.floor(mousePosition.x/deltaTick)*deltaTick,timelineWidth));hoverSliderVisible&&setCurrentHoverDate(dayjs_min_default()(sortedTimeFrames[0].startDate.valueOf()+position/timelineWidth*sortedTimeFrames[sortedTimeFrames.length-1].endDate.diff(sortedTimeFrames[0].startDate)))}}),[mousePosition,resolution,sortedTimeFrames,timelineWidth]);var handleMouseMoveEvent=react_default.a.useCallback((function(e){var numTicks=Math.floor(sortedTimeFrames[sortedTimeFrames.length-1].endDate.diff(sortedTimeFrames[0].startDate).valueOf()/resolution),deltaTick=timelineWidth/numTicks,left=framesRef.current?framesRef.current.getBoundingClientRect().left:0,position=Math.max(0,Math.min(Math.floor((e.pageX-left)/deltaTick)*deltaTick,timelineWidth));setCurrentDate(dayjs_min_default()(sortedTimeFrames[0].startDate.valueOf()+position/timelineWidth*sortedTimeFrames[sortedTimeFrames.length-1].endDate.diff(sortedTimeFrames[0].startDate)))}),[sortedTimeFrames,framesRef,timelineWidth,resolution,setCurrentDate]);react_default.a.useEffect((function(){return sliderActive&&window.addEventListener("mousemove",handleMouseMoveEvent),function(){window.removeEventListener("mousemove",handleMouseMoveEvent)}}),[sliderActive,handleMouseMoveEvent]);var handleFrameClick=react_default.a.useCallback((function(e){var left=framesRef.current?framesRef.current.getBoundingClientRect().left:0,numTicks=Math.floor(sortedTimeFrames[sortedTimeFrames.length-1].endDate.diff(sortedTimeFrames[0].startDate).valueOf()/resolution),deltaTick=timelineWidth/numTicks,position=Math.max(0,Math.min(Math.floor((e.pageX-left)/deltaTick)*deltaTick,timelineWidth));setCurrentDate(dayjs_min_default()(sortedTimeFrames[0].startDate.valueOf()+position/timelineWidth*sortedTimeFrames[sortedTimeFrames.length-1].endDate.diff(sortedTimeFrames[0].startDate)))}),[sortedTimeFrames,framesRef.current,timelineWidth,resolution]),handleToggleVisibility=react_default.a.useCallback((function(){setVisible(!visible)}),[visible,setVisible]);react_default.a.useEffect((function(){var handleMouseUp=function handleMouseUp(){setSliderActive(!1)};return window.addEventListener("mouseup",handleMouseUp),function(){window.removeEventListener("mouseup",handleMouseUp)}}),[setSliderActive]);var handleDateChange=react_default.a.useCallback((function(date){date&&setCurrentDate(date)}),[setCurrentDate]);react_default.a.useEffect((function(){props.onDateChange&&currentDate&&props.onDateChange(currentDate)}),[currentDate]);return Object(jsx_runtime.jsxs)("div",{className:"FlowDiagramExplorer__Timeline",children:[currentDate&&Object(jsx_runtime.jsxs)("div",{className:"FlowDiagramExplorer__Timeline__CurrentSelectionLabel",children:[Object(jsx_runtime.jsx)(core_react_umd.Tooltip,{title:"Open date picker dialog",placement:"top",children:Object(jsx_runtime.jsx)(core_react_umd.Button,{className:"FlowDiagramExplorer__Timeline__Toggle",variant:"ghost_icon",onClick:function toggleDatePickerDialogVisibility(){setDatePickerOpen(!datePickerOpen)},children:Object(jsx_runtime.jsx)(core_react_umd.Icon,{name:"calendar",title:"Current date",size:16})})}),Object(jsx_runtime.jsx)(useUtils_cfb96ac9.a,{utils:index_esm.a,children:Object(jsx_runtime.jsx)(DatePicker.a,{variant:"inline",value:currentDate,onChange:handleDateChange,format:"MMMM DD, YYYY",open:datePickerOpen,maxDate:sortedTimeFrames.length>0?sortedTimeFrames[sortedTimeFrames.length-1].endDate:void 0,onOpen:function onOpen(){return setDatePickerOpen(!0)},onClose:function onClose(){return setDatePickerOpen(!1)},minDate:sortedTimeFrames.length>0?sortedTimeFrames[0].startDate:void 0,className:"FlowDiagramExplorer__Timeline__DatePicker",InputProps:{disableUnderline:!0}})}),Object(jsx_runtime.jsx)(core_react_umd.Tooltip,{title:visible?"Hide timeline":"Show timeline",placement:"top",children:Object(jsx_runtime.jsx)(core_react_umd.Button,{className:"FlowDiagramExplorer__Timeline__Toggle",variant:"ghost_icon",onClick:handleToggleVisibility,children:visible?Object(jsx_runtime.jsx)(core_react_umd.Icon,{name:"visibility_off",title:"Hide",size:16}):Object(jsx_runtime.jsx)(core_react_umd.Icon,{name:"visibility",title:"Show",size:16})})})]}),Object(jsx_runtime.jsxs)("div",{className:"FlowDiagramExplorer__InnerTimeline",style:{display:visible?"block":"none"},children:[Object(jsx_runtime.jsxs)("div",{className:"FlowDiagramExplorer__Timeline__Frames",ref:framesRef,onMouseOver:function onMouseOver(){return setHoverSliderVisible(!0)},onMouseOut:function onMouseOut(){return setHoverSliderVisible(!1)},children:[Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer__Timeline__Slider",style:{left:currentDate&&sortedTimeFrames.length>0?currentDate.diff(sortedTimeFrames[0].startDate)/sortedTimeFrames[sortedTimeFrames.length-1].endDate.diff(sortedTimeFrames[0].startDate)*size.width:0},onMouseDown:function onMouseDown(){return setSliderActive(!0)}}),Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer__Timeline__HoverSlider",style:{left:currentHoverDate&&currentHoverDate.valueOf()>0&&sortedTimeFrames.length>0?currentHoverDate.diff(sortedTimeFrames[0].startDate)/sortedTimeFrames[sortedTimeFrames.length-1].endDate.diff(sortedTimeFrames[0].startDate)*size.width:0,display:hoverSliderVisible?"block":"none"},onMouseUp:function onMouseUp(e){return handleFrameClick(e)},children:Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer__Timeline__HoverSlider__Tooltip",children:currentHoverDate&&currentHoverDate.format("MMMM DD, YYYY")})}),frames.map((function(frame){return Object(jsx_runtime.jsx)("div",{className:Object(clsx_m.a)("FlowDiagramExplorer__Timeline__Frame",currentDate&&currentDate.isBetween(frame.timeFrame.startDate,frame.timeFrame.endDate,null,"[]")?"FlowDiagramExplorer__Timeline__Frames--active":""),style:{width:frame.width},onClick:function onClick(e){return handleFrameClick(e)}},"frame-"+frame.timeFrame.startDate.valueOf()+"-"+frame.timeFrame.endDate.valueOf())}))]}),Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer__Timeline__Axis",children:axisTicks.map((function(tick){return tick.label?Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer__Timeline__AxisLabel",style:{left:tick.position},children:tick.label},"axis-label-"+tick.position):Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer__Timeline__AxisTick",style:{left:tick.position}},"axis-tick-"+tick.position)}))})]})]})};timeline_Timeline.displayName="Timeline";try{timeline_Timeline.displayName="Timeline",timeline_Timeline.__docgenInfo={description:"",displayName:"Timeline",props:{timeFrames:{defaultValue:null,description:"",name:"timeFrames",required:!1,type:{name:"TimeFrame[]"}},initialDate:{defaultValue:null,description:"",name:"initialDate",required:!0,type:{name:"Dayjs | null"}},onDateChange:{defaultValue:null,description:"",name:"onDateChange",required:!1,type:{name:"((date: Dayjs) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/Timeline/timeline.tsx#Timeline"]={docgenInfo:timeline_Timeline.__docgenInfo,name:"Timeline",path:"src/lib/components/Timeline/timeline.tsx#Timeline"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(1158),__webpack_require__(2755),__webpack_require__(1162);function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return node_action_handler_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||node_action_handler_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function node_action_handler_slicedToArray(arr,i){return function node_action_handler_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function node_action_handler_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||node_action_handler_unsupportedIterableToArray(arr,i)||function node_action_handler_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function node_action_handler_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return node_action_handler_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?node_action_handler_arrayLikeToArray(o,minLen):void 0}}function node_action_handler_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var node_action_handler_NodeActionHandler=function NodeActionHandler(props){var children=props.children?Array.isArray(props.children)?props.children:[props.children]:[],_React$useState2=node_action_handler_slicedToArray(react_default.a.useState([]),2),highlightedSceneItems=_React$useState2[0],setHighlightedSceneItems=_React$useState2[1],childRef=react_default.a.useRef(null),diagramConfig=react_default.a.useContext(DiagramConfigContext),handleMouseEnter=react_default.a.useCallback((function(id){if(childRef.current&&null!==props.sceneProperties){var highlighted=[];_toConsumableArray(childRef.current.getElementsByClassName("FlowDiagramExplorer__SceneItem")).filter((function(htmlElement){var nodeEdges=props.sceneProperties.flowNodeEdgeMap.find((function(el){return el.id===id}));return!!nodeEdges&&nodeEdges.edgeIndices.some((function(el){return htmlElement.getAttribute("data-id")&&htmlElement.getAttribute("data-id")==="edge-"+el}))})).forEach((function(item){if(item.children){var child=item.children[0];if("svg"===child.tagName.toLowerCase()){var polyline=child.children.length>0&&"polyline"===child.children[child.children.length-1].tagName.toLowerCase()?child.children[child.children.length-1]:void 0;polyline&&(highlighted.push({svg:child,originalColor:polyline.getAttribute("stroke")||"black",originalZIndex:child.style.zIndex}),polyline.setAttribute("stroke",diagramConfig.highlightColor),polyline.getAttribute("marker-end")&&polyline.setAttribute("marker-end",polyline.getAttribute("marker-end").replace(")","-hover)")),child.parentElement&&(child.parentElement.style.zIndex="5"))}}})),setHighlightedSceneItems(highlighted)}}),[childRef,props.sceneProperties,setHighlightedSceneItems]),handleMouseLeave=react_default.a.useCallback((function(){highlightedSceneItems.forEach((function(_ref){var svg=_ref.svg,originalColor=_ref.originalColor,originalZIndex=_ref.originalZIndex,line=svg.getElementsByTagName("polyline")[svg.getElementsByTagName("polyline").length-1];line.setAttribute("stroke",originalColor),line.getAttribute("marker-end")&&line.setAttribute("marker-end",line.getAttribute("marker-end").replace("-hover","")),svg.parentElement&&(svg.parentElement.style.zIndex=originalZIndex)}))}),[highlightedSceneItems,setHighlightedSceneItems]);return Object(jsx_runtime.jsx)("div",{ref:childRef,children:children&&children.map((function(child){return Object(jsx_runtime.jsx)(react_default.a.Fragment,{children:react_default.a.cloneElement(child,{viewSize:props.viewSize,centerPoint:props.centerPoint,onNodeEnter:handleMouseEnter,onNodeLeave:handleMouseLeave})},"scene-"+child.props.id)}))})};node_action_handler_NodeActionHandler.displayName="NodeActionHandler";try{node_action_handler_NodeActionHandler.displayName="NodeActionHandler",node_action_handler_NodeActionHandler.__docgenInfo={description:"",displayName:"NodeActionHandler",props:{sceneProperties:{defaultValue:null,description:"",name:"sceneProperties",required:!1,type:{name:"Diagram"}},centerPoint:{defaultValue:null,description:"",name:"centerPoint",required:!1,type:{name:"Point"}},viewSize:{defaultValue:null,description:"",name:"viewSize",required:!1,type:{name:"Size"}},onNodeClick:{defaultValue:null,description:"",name:"onNodeClick",required:!1,type:{name:"((nodeId: string) => void)"}},onDiagramChange:{defaultValue:null,description:"",name:"onDiagramChange",required:!1,type:{name:"((diagramId: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/NodeActionHandler/node-action-handler.tsx#NodeActionHandler"]={docgenInfo:node_action_handler_NodeActionHandler.__docgenInfo,name:"NodeActionHandler",path:"src/lib/components/NodeActionHandler/node-action-handler.tsx#NodeActionHandler"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(2760),__webpack_require__(2762),__webpack_require__(1728),__webpack_require__(1729),__webpack_require__(2765),__webpack_require__(2768),__webpack_require__(2771),__webpack_require__(2772);var EdgeLayer,dagre=__webpack_require__(839),dagre_default=__webpack_require__.n(dagre),edge_label_EdgeLabel=(__webpack_require__(2853),function EdgeLabel(props){var label=props.label;return Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer__EdgeLabel",children:label})});edge_label_EdgeLabel.displayName="EdgeLabel";try{edge_label_EdgeLabel.displayName="EdgeLabel",edge_label_EdgeLabel.__docgenInfo={description:"",displayName:"EdgeLabel",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"Size"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/EdgeLabel/edge-label.tsx#EdgeLabel"]={docgenInfo:edge_label_EdgeLabel.__docgenInfo,name:"EdgeLabel",path:"src/lib/components/EdgeLabel/edge-label.tsx#EdgeLabel"})}catch(__react_docgen_typescript_loader_error){}function diagram_drawer_toConsumableArray(arr){return function diagram_drawer_arrayWithoutHoles(arr){if(Array.isArray(arr))return diagram_drawer_arrayLikeToArray(arr)}(arr)||function diagram_drawer_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function diagram_drawer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return diagram_drawer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return diagram_drawer_arrayLikeToArray(o,minLen)}(arr)||function diagram_drawer_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function diagram_drawer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}!function(EdgeLayer){EdgeLayer[EdgeLayer.Source=0]="Source",EdgeLayer[EdgeLayer.JointSplit=1]="JointSplit",EdgeLayer[EdgeLayer.Target=2]="Target"}(EdgeLayer||(EdgeLayer={}));var DiagramActionTypes,diagram_drawer_DiagramDrawer=function(){function DiagramDrawer(flowDiagram,config,renderFunctions,flowStyles){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DiagramDrawer),this.flowDiagram=void 0,this.config=void 0,this.renderFunctions=void 0,this.flowStyles=void 0,this.renderJointNode=function(){return{html:Object(jsx_runtime.jsx)("div",{style:{width:0,height:0}}),width:0,height:0}},this.flowNodeEdgeIndicesMap=void 0,this.sceneItems=void 0,this.sceneSize=void 0,this.rankNodeMap=void 0,this.numRanks=void 0,this.edgePoints=void 0,this.additionalEdgesMap=void 0,this.flowDiagram=flowDiagram,this.config=config,this.sceneItems=[],this.flowNodeEdgeIndicesMap=[],this.sceneSize={width:0,height:0},this.rankNodeMap=[],this.numRanks=0,this.edgePoints=[],this.additionalEdgesMap=[],this.renderFunctions=renderFunctions,this.flowStyles=flowStyles}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DiagramDrawer,[{key:"makeInitialFlowNodes",value:function makeInitialFlowNodes(graph){this.flowDiagram.edges.forEach((function(edge){graph.setEdge(""+edge.fromNode,""+edge.toNode,{label:edge.flow,width:300,height:10,labelpos:"l",labeloffset:12},edge.flow)}))}},{key:"addAdditionalEdge",value:function addAdditionalEdge(sourceNode,targetNode,flow,edge){var item=this.additionalEdgesMap.find((function(el){return el.sourceNode===sourceNode&&el.targetNode===targetNode&&el.flow===flow}));item?item.edges.push(edge):this.additionalEdgesMap.push({sourceNode:sourceNode,targetNode:targetNode,flow:flow,edges:[edge]})}},{key:"makeAdditionalFlowNodes",value:function makeAdditionalFlowNodes(graph){var _this=this;this.makeRankNodeMap(graph),this.additionalEdgesMap=[];for(var edgesGoingBeyondRank=[],_loop=function _loop(rank){var _edgesGoingBeyondRank,currentRankNodes=_this.rankNodeMap.find((function(el){return el.rank===rank})),currentRankEdges=[];currentRankNodes&&currentRankNodes.nodes.forEach((function(node){var _currentRankEdges,outEdges=graph.outEdges(node);outEdges&&(_currentRankEdges=currentRankEdges).push.apply(_currentRankEdges,diagram_drawer_toConsumableArray(outEdges))}));var nextRankNodes=_this.rankNodeMap.find((function(el){return el.rank===rank+1}));nextRankNodes&&nextRankNodes.nodes.forEach((function(node){currentRankEdges=currentRankEdges.filter((function(el){return el.w!==node})),edgesGoingBeyondRank.filter((function(el){return el.w===node})).forEach((function(edge){graph.setEdge(edge.w+"-rank-"+(rank-1),node,{label:edge.name,width:300,height:10,labelpos:"l",labeloffset:12},edge.name),_this.addAdditionalEdge(edge.v,edge.w,edge.name||"",{v:edge.w+"-rank-"+(rank-1),w:edge.w})})),edgesGoingBeyondRank=edgesGoingBeyondRank.filter((function(el){return el.w!==node}))})),currentRankEdges.forEach((function(edge){graph.setNode(edge.w+"-rank-"+rank,{label:"",width:0,height:100}),graph.setEdge(""+edge.v,edge.w+"-rank-"+rank,{label:edge.name,width:300,height:10,labelpos:"l",labeloffset:12},edge.name),_this.addAdditionalEdge(edge.v,edge.w,edge.name||"",{v:edge.v,w:edge.w+"-rank-"+rank})})),edgesGoingBeyondRank.forEach((function(edge){graph.setNode(edge.w+"-rank-"+rank,{label:"",width:0,height:100}),graph.setEdge(edge.w+"-rank-"+(rank-1),edge.w+"-rank-"+rank,{label:edge.name,width:300,height:10,labelpos:"l",labeloffset:12},edge.name),_this.addAdditionalEdge(edge.v,edge.w,edge.name||"",{v:edge.w+"-rank-"+(rank-1),w:edge.w+"-rank-"+rank})})),(_edgesGoingBeyondRank=edgesGoingBeyondRank).push.apply(_edgesGoingBeyondRank,diagram_drawer_toConsumableArray(currentRankEdges))},rank=0;rank<this.numRanks-1;rank++)_loop(rank)}},{key:"makeGraph",value:function makeGraph(){var _this2=this,graph=new dagre_default.a.graphlib.Graph({multigraph:!0});return graph.setGraph({rankdir:"LR",ranksep:this.config.horizontalSpacing,nodesep:this.config.verticalSpacing}),this.flowDiagram.nodes.forEach((function(node){var nodeMeta=node.type&&_this2.renderFunctions&&node.type in _this2.renderFunctions?_this2.renderFunctions[node.type](node):_this2.config.defaultRenderFunction(node);graph.setNode(node.id,{label:node.title,width:nodeMeta.width,height:nodeMeta.height})})),this.makeInitialFlowNodes(graph),dagre_default.a.layout(graph,{rankdir:"LR"}),this.makeAdditionalFlowNodes(graph),dagre_default.a.layout(graph,{rankdir:"LR"}),graph}},{key:"makeNodes",value:function makeNodes(graph){var _this3=this;graph.nodes().forEach((function(v){var renderResults=void 0,node=_this3.flowDiagram.nodes.find((function(node){return node.id===v}));renderResults=node?node.type&&_this3.renderFunctions&&node.type in _this3.renderFunctions?_this3.renderFunctions[node.type](node):_this3.config.defaultRenderFunction(node):_this3.renderJointNode(),_this3.sceneItems.push(Object(jsx_runtime.jsx)(scene_item_SceneItem,{id:v,type:SceneItemType.Node,size:{width:renderResults.width,height:renderResults.height},position:{x:graph.node(v).x,y:graph.node(v).y},zIndex:8,children:renderResults.html,clickable:!0,hoverable:!0},v))}))}},{key:"makeRankNodeMap",value:function makeRankNodeMap(graph){var _this4=this;this.rankNodeMap.length=0;var sortedNodes=graph.nodes().sort((function(a,b){return graph.node(a).x-graph.node(b).x})),positionRankMap=[],rank=0;sortedNodes.forEach((function(node){var positionRank=positionRankMap.find((function(el){return el.x===graph.node(node).x}));if(positionRank){var rankNodeMapItem=_this4.rankNodeMap.find((function(el){return el.rank===positionRank.rank}));rankNodeMapItem&&rankNodeMapItem.nodes.push(node)}else positionRankMap.push({x:graph.node(node).x,rank:rank}),_this4.rankNodeMap.push({rank:rank,nodes:[node]}),_this4.numRanks=rank+1,rank++}))}},{key:"makeEdgeId",value:function makeEdgeId(from,to,flow,layer){return flow+":"+from+"-"+to+":"+new Map([[EdgeLayer.Source,"Source"],[EdgeLayer.JointSplit,"JointSplit"],[EdgeLayer.Target,"Target"]]).get(layer)}},{key:"makeFlowEdges",value:function makeFlowEdges(edges,flow){return edges&&edges.reduce((function(reducedEdges,edge){return edge.name===flow&&reducedEdges.push(edge),reducedEdges}),[])}},{key:"makeUniqueFlowEdges",value:function makeUniqueFlowEdges(edges){return edges&&edges.reduce((function(reducedEdges,edge){return reducedEdges.find((function(el){return el.name===edge.name}))||reducedEdges.push(edge),reducedEdges}),[])}},{key:"makeEdgePoints",value:function makeEdgePoints(graph){var _this5=this;this.makeRankNodeMap(graph);for(var _loop2=function _loop2(rank){var nodes=_this5.rankNodeMap.find((function(el){return el.rank===rank}));if(nodes){var nextRankNodes=_this5.rankNodeMap.find((function(el){return el.rank===rank+1})),nextRankXPosition=0;nextRankNodes&&(nextRankXPosition=Math.min.apply(Math,diagram_drawer_toConsumableArray(nextRankNodes.nodes.map((function(el){return graph.node(el).x-graph.node(el).width/2})))));var edges=[],flows=[],xStartPosition=0;nodes.nodes.forEach((function(node){var outEdges=_this5.makeUniqueFlowEdges(graph.outEdges(node));outEdges&&outEdges.reduce((function(reducedFlows,el){return el.name&&!reducedFlows.includes(el.name)&&reducedFlows.push(el.name),reducedFlows}),[]).forEach((function(localFlow){flows.includes(localFlow)||flows.push(localFlow)}));xStartPosition=Math.max(xStartPosition,graph.node(node).x+graph.node(node).width/2)}));var deltaLayerPositions=(nextRankXPosition-xStartPosition)/4;nodes.nodes.forEach((function(node){var outEdges=_this5.makeUniqueFlowEdges(graph.outEdges(node));if(outEdges){edges.push.apply(edges,diagram_drawer_toConsumableArray(outEdges));var upperRightCorner={x:graph.node(node).x+graph.node(node).width/2,y:graph.node(node).y-graph.node(node).height/2};outEdges.forEach((function(edge,index){var startPoint=pointSum(upperRightCorner,{x:0,y:(index+1)*graph.node(node).height/(outEdges.length+1)}),flow=_this5.flowDiagram.flows.find((function(flow){return flow.id===edge.name}));if(flow){var flowIndex=flows.findIndex((function(el){return el===flow.id}))||0,endPoint=pointSum({x:xStartPosition,y:upperRightCorner.y},{x:(flowIndex+1)/flows.length*deltaLayerPositions,y:(index+1)*graph.node(node).height/(outEdges.length+1)}),id=_this5.makeEdgeId(edge.v,edge.w,flow.id,EdgeLayer.Source),edgePointItem=_this5.edgePoints.find((function(el){return el.id===id&&el.layer===EdgeLayer.Source}));edgePointItem?(edgePointItem.points.push(startPoint),edgePointItem.points.push(endPoint)):_this5.edgePoints.push({id:id,points:[startPoint,endPoint],flow:flow.id,layer:EdgeLayer.Source,rank:rank,edges:_this5.makeFlowEdges(graph.outEdges(node),flow.id)||[],sourceNodes:[node],targetNodes:[]})}}))}})),flows.forEach((function(flow){var otherFlowEdgePoints=_this5.edgePoints.reduce((function(reduced,el){return el.rank===rank&&el.flow===flow&&el.layer===EdgeLayer.Source&&reduced.push(el),reduced}),[]),jointPoint=_this5.calcAveragePoint(otherFlowEdgePoints.map((function(el){return el.points[el.points.length-1]})));otherFlowEdgePoints.forEach((function(el){return el.points.push(jointPoint)}))})),nextRankNodes&&(nextRankNodes.nodes.forEach((function(node){var inEdges=_this5.makeUniqueFlowEdges(graph.inEdges(node));if(inEdges){var upperLeftCorner={x:graph.node(node).x-graph.node(node).width/2,y:graph.node(node).y-graph.node(node).height/2};inEdges.forEach((function(edge,index){var endPoint=pointSum(upperLeftCorner,{x:0,y:(index+1)*graph.node(node).height/(inEdges.length+1)}),flow=_this5.flowDiagram.flows.find((function(flow){return flow.id===edge.name}));if(flow){var flowIndex=flows.findIndex((function(el){return el===flow.id}))||0,startPoint=pointSum({x:nextRankXPosition,y:upperLeftCorner.y},{x:-(flowIndex+1)/flows.length*deltaLayerPositions,y:(index+1)*graph.node(node).height/(inEdges.length+1)}),id=_this5.makeEdgeId(edge.v,edge.w,flow.id,EdgeLayer.Target),edgePointItem=_this5.edgePoints.find((function(el){return el.id===id&&el.layer===EdgeLayer.Target}));edgePointItem?(edgePointItem.points.push(startPoint),edgePointItem.points.push(endPoint)):_this5.edgePoints.push({id:id,points:[startPoint,endPoint],flow:flow.id,layer:EdgeLayer.Target,rank:rank,edges:_this5.makeFlowEdges(graph.inEdges(node),flow.id)||[],sourceNodes:[],targetNodes:[node]})}}))}})),flows.length=0,nextRankNodes.nodes.forEach((function(node){var outEdges=_this5.makeUniqueFlowEdges(graph.inEdges(node));outEdges&&outEdges.reduce((function(reducedFlows,el){return el.name&&!reducedFlows.includes(el.name)&&reducedFlows.push(el.name),reducedFlows}),[]).forEach((function(localFlow){flows.includes(localFlow)||flows.push(localFlow)}))})),flows.forEach((function(flow){var otherFlowEdgePoints=_this5.edgePoints.reduce((function(reduced,el){return el.rank===rank&&el.flow===flow&&el.layer===EdgeLayer.Target&&reduced.push(el),reduced}),[]),jointPoint=_this5.calcAveragePoint(otherFlowEdgePoints.map((function(el){return el.points[0]})));otherFlowEdgePoints.forEach((function(el){return el.points.unshift(jointPoint)}))})),_this5.edgePoints.forEach((function(edgePoint){edgePoint.rank===rank&&edgePoint.layer===EdgeLayer.Source&&_this5.edgePoints.filter((function(el){return el.rank===rank&&el.layer===EdgeLayer.Target&&el.flow===edgePoint.flow})).forEach((function(targetPoint){var id=_this5.makeEdgeId(edgePoint.id,targetPoint.id,edgePoint.flow,EdgeLayer.JointSplit),firstPoint=edgePoint.points[edgePoint.points.length-1],lastPoint=targetPoint.points[0],averagePoint=_this5.calcAveragePoint([firstPoint,lastPoint]);_this5.edgePoints.push({id:id,points:[firstPoint,{x:averagePoint.x,y:firstPoint.y},{x:averagePoint.x,y:lastPoint.y},lastPoint],flow:edgePoint.flow,layer:EdgeLayer.JointSplit,rank:rank,edges:edgePoint.edges,sourceNodes:[],targetNodes:[]})}))})))}},rank=0;rank<this.numRanks-1;rank++)_loop2(rank)}},{key:"calcAveragePoint",value:function calcAveragePoint(points){var averagePoint={x:0,y:0};return points.forEach((function(point){averagePoint.x+=point.x,averagePoint.y+=point.y})),function pointScale(point,factor){return{x:point.x/factor,y:point.y/factor}}(averagePoint,points.length)}},{key:"makeFlows",value:function makeFlows(){var _this6=this;this.flowDiagram.flows.forEach((function(flow){var flowStyle=_this6.flowStyles&&flow.type&&flow.type in _this6.flowStyles?_this6.flowStyles[flow.type]:{strokeColor:_this6.config.defaultEdgeStrokeColor,strokeStyle:_this6.config.defaultEdgeStrokeStyle,strokeWidth:_this6.config.defaultEdgeStrokeWidth,arrowHeadSize:_this6.config.defaultEdgeArrowSize},arrowHeadSize=flowStyle.arrowHeadSize||_this6.config.defaultEdgeArrowSize,svg=Object(jsx_runtime.jsx)("svg",{width:_this6.sceneSize.width,height:_this6.sceneSize.height,children:Object(jsx_runtime.jsxs)("defs",{children:[Object(jsx_runtime.jsx)("marker",{id:"arrow-"+flow.id,markerWidth:arrowHeadSize,markerHeight:arrowHeadSize,refX:arrowHeadSize-1,refY:arrowHeadSize/3,orient:"auto",markerUnits:"strokeWidth",viewBox:"0 0 "+arrowHeadSize+" "+arrowHeadSize,children:Object(jsx_runtime.jsx)("path",{d:"M0,0 L0,"+2*arrowHeadSize/3+" L"+arrowHeadSize+","+arrowHeadSize/3+" z",fill:flowStyle.strokeColor||_this6.config.defaultEdgeStrokeColor})}),Object(jsx_runtime.jsx)("marker",{id:"arrow-"+flow.id+"-hover",markerWidth:arrowHeadSize,markerHeight:arrowHeadSize,refX:arrowHeadSize-1,refY:arrowHeadSize/3,orient:"auto",markerUnits:"strokeWidth",viewBox:"0 0 "+arrowHeadSize+" "+arrowHeadSize,children:Object(jsx_runtime.jsx)("path",{d:"M0,0 L0,"+2*arrowHeadSize/3+" L"+arrowHeadSize+","+arrowHeadSize/3+" z",fill:_this6.config.highlightColor})})]})});_this6.sceneItems.push(Object(jsx_runtime.jsx)(scene_item_SceneItem,{id:flow.id+"-defs",type:SceneItemType.Definition,size:{width:_this6.sceneSize.width,height:_this6.sceneSize.height},position:{x:0,y:0},zIndex:0,children:svg,clickable:!1},flow.id+"-defs"))}))}},{key:"makeEdges",value:function makeEdges(graph){var _this7=this,edgeIndex=0;this.flowNodeEdgeIndicesMap=graph.nodes().map((function(node){return{id:node,edgeIndices:[]}})),this.flowDiagram.flows.forEach((function(flow){_this7.flowNodeEdgeIndicesMap.push({id:"flow-"+flow.id,edgeIndices:[]})})),this.edgePoints.forEach((function(edge){var flow=_this7.flowDiagram.flows.find((function(flow){return flow.id===edge.flow}));if(flow){var flowStyle=_this7.flowStyles&&flow.type&&flow.type in _this7.flowStyles?_this7.flowStyles[flow.type]:{strokeColor:_this7.config.defaultEdgeStrokeColor,strokeStyle:_this7.config.defaultEdgeStrokeStyle,strokeWidth:_this7.config.defaultEdgeStrokeWidth,arrowHeadSize:_this7.config.defaultEdgeArrowSize},strokeWidth=flowStyle.strokeWidth||_this7.config.defaultEdgeStrokeWidth,strokeColor=flowStyle.strokeColor||_this7.config.defaultEdgeStrokeColor,strokeStyle=flowStyle.strokeStyle||_this7.config.defaultEdgeStrokeStyle,arrowHeadSize=flowStyle.arrowHeadSize||_this7.config.defaultEdgeArrowSize,points=edge.points,width=Math.abs(Math.max.apply(Math,diagram_drawer_toConsumableArray(points.map((function(p){return p.x}))))-Math.min.apply(Math,diagram_drawer_toConsumableArray(points.map((function(p){return p.x}))))),height=Math.abs(Math.max.apply(Math,diagram_drawer_toConsumableArray(points.map((function(p){return p.y}))))-Math.min.apply(Math,diagram_drawer_toConsumableArray(points.map((function(p){return p.y}))))),left=Math.min.apply(Math,diagram_drawer_toConsumableArray(points.map((function(point){return point.x})))),top=Math.min.apply(Math,diagram_drawer_toConsumableArray(points.map((function(point){return point.y}))));edge.layer===EdgeLayer.Target?(width+=2*Math.max(arrowHeadSize,strokeWidth/2),height+=2*Math.max(arrowHeadSize,strokeWidth/2),left-=Math.max(arrowHeadSize,strokeWidth/2),top-=Math.max(arrowHeadSize,strokeWidth/2)):(width+=strokeWidth,height+=strokeWidth,left-=strokeWidth/2,top-=strokeWidth/2);var svg=Object(jsx_runtime.jsx)("svg",{width:width,height:height,style:{position:"absolute",left:-width/2,top:-height/2},children:Object(jsx_runtime.jsx)("polyline",{points:points.map((function(p){return p.x-left+","+(p.y-top)})).join(" "),fill:"none",stroke:strokeColor,strokeWidth:strokeWidth,strokeDasharray:strokeStyle,markerEnd:edge.layer!==EdgeLayer.Target||edge.id.includes("-rank-")?void 0:"url(#arrow-"+flow.id+")"})});if(strokeStyle&&strokeStyle.split(" ").length>1){var strokes=strokeStyle.split(" ");strokes.unshift("0"),strokes.push("0");var antiDashArray=strokes.join(" ");svg=Object(jsx_runtime.jsxs)("svg",{width:width,height:height,style:{position:"absolute",left:-width/2,top:-height/2},children:[Object(jsx_runtime.jsx)("polyline",{points:points.map((function(p,index){return edge.layer===EdgeLayer.JointSplit&&index===points.length-1?p.x-left-arrowHeadSize+","+(p.y-top):p.x-left+","+(p.y-top)})).join(" "),fill:"none",stroke:_this7.config.backgroundColor,strokeWidth:strokeWidth,strokeDasharray:antiDashArray}),Object(jsx_runtime.jsx)("polyline",{points:points.map((function(p){return p.x-left+","+(p.y-top)})).join(" "),fill:"none",stroke:strokeColor,strokeWidth:strokeWidth,strokeDasharray:strokeStyle,markerEnd:edge.layer!==EdgeLayer.Target||edge.id.includes("-rank-")?void 0:"url(#arrow-"+flow.id+")"})]})}if(_this7.sceneItems.push(Object(jsx_runtime.jsx)(scene_item_SceneItem,{id:"edge-"+edgeIndex,type:SceneItemType.Flow,size:{width:width,height:height},position:{x:left+width/2,y:top+height/2},zIndex:2,children:svg,clickable:!1},edge.id+"-edge")),edge.edges&&edge.edges.forEach((function(item){_this7.flowNodeEdgeIndicesMap.find((function(el){return el.id===item.v})).edgeIndices.push(edgeIndex),_this7.flowNodeEdgeIndicesMap.find((function(el){return el.id===item.w})).edgeIndices.push(edgeIndex),_this7.additionalEdgesMap.forEach((function(el){el.flow===flow.id&&el.edges.find((function(e){return e.v===item.v&&e.w===item.w}))&&(_this7.flowNodeEdgeIndicesMap.find((function(e){return e.id===el.targetNode})).edgeIndices.push(edgeIndex),_this7.flowNodeEdgeIndicesMap.find((function(e){return e.id===el.sourceNode})).edgeIndices.push(edgeIndex))}))})),_this7.flowNodeEdgeIndicesMap.find((function(el){return el.id==="flow-"+flow.id})).edgeIndices.push(edgeIndex),edgeIndex++,edge.layer===EdgeLayer.JointSplit){var label=Object(jsx_runtime.jsx)(edge_label_EdgeLabel,{label:flow.label,size:{width:graph.edge(edge.edges[0]).width,height:graph.edge(edge.edges[0]).height}}),node1=edge.points[0],node2=edge.points[edge.points.length-1];_this7.sceneItems.push(Object(jsx_runtime.jsx)(scene_item_SceneItem,{id:"flow-"+flow.id,type:SceneItemType.Label,size:{width:graph.edge(edge.edges[0]).width,height:graph.edge(edge.edges[0]).height},position:{x:node1.x+(node2.x-node1.x)/2,y:node1.y+(node2.y-node1.y)/2-graph.edge(edge.edges[0]).height},zIndex:6,children:label,clickable:!0,hoverable:!0},edge.id+"-label"))}}}))}},{key:"makeSceneSize",value:function makeSceneSize(graph){this.sceneSize={width:graph.graph().width?graph.graph().width:0,height:graph.graph().height?graph.graph().height:0}}},{key:"makeDiagram",value:function makeDiagram(){var graph=this.makeGraph();this.makeSceneSize(graph),this.makeNodes(graph),this.makeFlows(),this.makeEdgePoints(graph),this.makeEdges(graph)}},{key:"diagram",value:function diagram(){return 0===this.sceneItems.length&&this.makeDiagram(),{sceneItems:this.sceneItems,sceneSize:this.sceneSize,flowNodeEdgeMap:this.flowNodeEdgeIndicesMap}}}]),DiagramDrawer}();function diagram_reducer_toConsumableArray(arr){return function diagram_reducer_arrayWithoutHoles(arr){if(Array.isArray(arr))return diagram_reducer_arrayLikeToArray(arr)}(arr)||function diagram_reducer_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function diagram_reducer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return diagram_reducer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return diagram_reducer_arrayLikeToArray(o,minLen)}(arr)||function diagram_reducer_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function diagram_reducer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}!function(DiagramActionTypes){DiagramActionTypes.MoveDown="MOVE_DOWN",DiagramActionTypes.MoveUpToNode="MOVE_UP_TO_NODE",DiagramActionTypes.ChangeDate="CHANGE_DATE",DiagramActionTypes.ChangeDiagram="CHANGE_DIAGRAM"}(DiagramActionTypes||(DiagramActionTypes={}));var diagram_reducer_DiagramReducerInit=function DiagramReducerInit(_ref){var flowDiagrams=_ref.flowDiagrams,diagramConfig=_ref.diagramConfig,renderFunctions=_ref.renderFunctions,flowStyles=_ref.flowStyles,startDate=void 0,endDate=void 0,id="",diagram=void 0,title="",timeframes=[];flowDiagrams.length>0&&(id=flowDiagrams[0].id,startDate=flowDiagrams[0].startDate,endDate=flowDiagrams[0].endDate,flowDiagrams.forEach((function(diagram){!diagram.startDate||startDate&&!dayjs_min_default()(diagram.startDate).isBefore(dayjs_min_default()(startDate))||(startDate=diagram.startDate),!diagram.endDate||endDate&&!dayjs_min_default()(diagram.endDate).isAfter(dayjs_min_default()(endDate))||(endDate=diagram.endDate)})),diagram=new diagram_drawer_DiagramDrawer(flowDiagrams[0],diagramConfig,renderFunctions,flowStyles).diagram(),title=flowDiagrams[0].title,flowDiagrams.forEach((function(el){timeframes.push({startDate:dayjs_min_default()(el.startDate||startDate),endDate:dayjs_min_default()(el.endDate||endDate)})})));return{fixed:{flowDiagrams:flowDiagrams,diagramConfig:diagramConfig,renderFunctions:renderFunctions,flowStyles:flowStyles,globalStartDate:dayjs_min_default()(startDate),globalEndDate:dayjs_min_default()(endDate)},currentPath:[{id:id,title:title,timeframes:timeframes}],currentDate:dayjs_min_default()(startDate),currentDiagram:diagram}},diagram_reducer_findAndCreateDiagram=function findAndCreateDiagram(flowDiagrams,date,path,state){var currentDiagram=flowDiagrams.find((function(el){return date.isBetween(dayjs_min_default()(el.startDate),dayjs_min_default()(el.endDate),null,"[]")}));path.forEach((function(pathElement,index){if(index>0&&currentDiagram){var node=currentDiagram.nodes.find((function(el){return el.id===pathElement.id}));if(node&&node.subdiagram){var subdiagrams=[];subdiagrams=Array.isArray(node.subdiagram)?node.subdiagram:[node.subdiagram],currentDiagram=subdiagrams.find((function(el){var subdiagramStartDate=el.startDate||state.fixed.globalStartDate,subdiagramEndDate=el.endDate||state.fixed.globalEndDate;return date.isBetween(dayjs_min_default()(subdiagramStartDate),dayjs_min_default()(subdiagramEndDate),null,"[]")}))}}}));var diagramDrawer=currentDiagram?new diagram_drawer_DiagramDrawer(currentDiagram,state.fixed.diagramConfig,state.fixed.renderFunctions,state.fixed.flowStyles):void 0;return null==diagramDrawer?void 0:diagramDrawer.diagram()},diagram_reducer_findTimeFrames=function findTimeFrames(flowDiagrams,path,state){var foundFrames=[];return function findTimeFramesRecursively(diagrams,pathPosition){pathPosition++,diagrams.forEach((function(diagram){var pathElement=foundFrames.find((function(el){return el.id===diagram.id}));if(pathElement?pathElement.timeframes.find((function(el){return el.startDate.isSame(dayjs_min_default()(diagram.startDate||state.fixed.globalStartDate))&&el.endDate.isSame(dayjs_min_default()(diagram.endDate||state.fixed.globalEndDate))}))||pathElement.timeframes.push({startDate:dayjs_min_default()(diagram.startDate||state.fixed.globalStartDate),endDate:dayjs_min_default()(diagram.endDate||state.fixed.globalEndDate)}):foundFrames.push({id:diagram.id,title:diagram.title,timeframes:[{startDate:dayjs_min_default()(diagram.startDate||state.fixed.globalStartDate),endDate:dayjs_min_default()(diagram.endDate||state.fixed.globalEndDate)}]}),pathPosition<path.length){var id=path[pathPosition],node=diagram.nodes.find((function(el){return el.id===id}));if(node&&node.subdiagram){var subdiagrams=Array.isArray(node.subdiagram)?node.subdiagram:[node.subdiagram];findTimeFramesRecursively(subdiagrams,pathPosition)}}}))}(flowDiagrams,0),foundFrames},DiagramReducer=function DiagramReducer(state,action){switch(action.type){case DiagramActionTypes.MoveDown:var pathIds=[].concat(diagram_reducer_toConsumableArray(state.currentPath.map((function(el){return el.id}))),[action.payload.id]),newPath=diagram_reducer_findTimeFrames(state.fixed.flowDiagrams,pathIds,state);if(newPath.length!==pathIds.length)return state;var diagram=diagram_reducer_findAndCreateDiagram(state.fixed.flowDiagrams,state.currentDate,newPath,state);return Object.assign({},state,{currentPath:newPath,currentDiagram:diagram});case DiagramActionTypes.MoveUpToNode:var _pathIds=state.currentPath.reduce((function(reducedPath,el){return 0!==reducedPath.length&&reducedPath[reducedPath.length-1]===action.payload.nodeId||reducedPath.push(el.id),reducedPath}),[]),_newPath=diagram_reducer_findTimeFrames(state.fixed.flowDiagrams,_pathIds,state),_diagram=diagram_reducer_findAndCreateDiagram(state.fixed.flowDiagrams,state.currentDate,_newPath,state);return Object.assign({},state,{currentPath:_newPath,currentDiagram:_diagram});case DiagramActionTypes.ChangeDate:if(state.currentPath[state.currentPath.length-1].timeframes.findIndex((function(el){return state.currentDate.isBetween(el.startDate,el.endDate,null,"[]")}))!==state.currentPath[state.currentPath.length-1].timeframes.findIndex((function(el){return action.payload.date.isBetween(el.startDate,el.endDate,null,"[]")}))){var _diagram2=diagram_reducer_findAndCreateDiagram(state.fixed.flowDiagrams,action.payload.date,state.currentPath,state);return Object.assign({},state,{currentDate:action.payload.date,currentDiagram:_diagram2})}return Object.assign({},state,{currentDate:action.payload.date});case DiagramActionTypes.ChangeDiagram:return diagram_reducer_DiagramReducerInit({flowDiagrams:action.payload.diagram,diagramConfig:state.fixed.diagramConfig,renderFunctions:state.fixed.renderFunctions,flowStyles:state.fixed.flowStyles})}};try{diagram_reducer_DiagramReducerInit.displayName="DiagramReducerInit",diagram_reducer_DiagramReducerInit.__docgenInfo={description:"",displayName:"DiagramReducerInit",props:{flowDiagrams:{defaultValue:null,description:"",name:"flowDiagrams",required:!0,type:{name:"FlowDiagram[]"}},diagramConfig:{defaultValue:null,description:"",name:"diagramConfig",required:!0,type:{name:"DiagramConfig"}},renderFunctions:{defaultValue:null,description:"",name:"renderFunctions",required:!1,type:{name:"RenderFunctions"}},flowStyles:{defaultValue:null,description:"",name:"flowStyles",required:!1,type:{name:"FlowStyles"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/DiagramReducer/diagram-reducer.tsx#DiagramReducerInit"]={docgenInfo:diagram_reducer_DiagramReducerInit.__docgenInfo,name:"DiagramReducerInit",path:"src/lib/components/DiagramReducer/diagram-reducer.tsx#DiagramReducerInit"})}catch(__react_docgen_typescript_loader_error){}function flow_diagram_explorer_slicedToArray(arr,i){return function flow_diagram_explorer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function flow_diagram_explorer_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function flow_diagram_explorer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return flow_diagram_explorer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return flow_diagram_explorer_arrayLikeToArray(o,minLen)}(arr,i)||function flow_diagram_explorer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function flow_diagram_explorer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var defaultDiagramConfig={horizontalSpacing:80,verticalSpacing:50,highlightColor:"#DF323D",backgroundColor:"#F7F7F7",defaultEdgeStrokeWidth:2,defaultEdgeArrowSize:9,defaultEdgeStrokeColor:"#000",defaultEdgeStrokeStyle:"0",defaultRenderFunction:function defaultRenderFunction(node){return{html:Object(jsx_runtime.jsx)("div",{style:{textAlign:"center",verticalAlign:"middle",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#ccc",border:"1px black solid",width:"200px",height:"100px",marginTop:"-50px",marginLeft:"-100px"},children:node.title}),width:200,height:100}}},DiagramConfigContext=react_default.a.createContext(defaultDiagramConfig),flow_diagram_explorer_FlowDiagramExplorer=function FlowDiagramExplorer(props){var _props$diagramConfig,_props$diagramConfig2,_props$diagramConfig3,_props$diagramConfig4,_props$diagramConfig5,_props$diagramConfig6,_props$diagramConfig7,_props$diagramConfig8,_props$diagramConfig9,diagramConfig={horizontalSpacing:(null===(_props$diagramConfig=props.diagramConfig)||void 0===_props$diagramConfig?void 0:_props$diagramConfig.horizontalSpacing)||defaultDiagramConfig.horizontalSpacing,verticalSpacing:(null===(_props$diagramConfig2=props.diagramConfig)||void 0===_props$diagramConfig2?void 0:_props$diagramConfig2.verticalSpacing)||defaultDiagramConfig.verticalSpacing,highlightColor:(null===(_props$diagramConfig3=props.diagramConfig)||void 0===_props$diagramConfig3?void 0:_props$diagramConfig3.highlightColor)||defaultDiagramConfig.highlightColor,backgroundColor:(null===(_props$diagramConfig4=props.diagramConfig)||void 0===_props$diagramConfig4?void 0:_props$diagramConfig4.backgroundColor)||defaultDiagramConfig.backgroundColor,defaultEdgeStrokeWidth:(null===(_props$diagramConfig5=props.diagramConfig)||void 0===_props$diagramConfig5?void 0:_props$diagramConfig5.defaultEdgeStrokeWidth)||defaultDiagramConfig.defaultEdgeStrokeWidth,defaultEdgeArrowSize:(null===(_props$diagramConfig6=props.diagramConfig)||void 0===_props$diagramConfig6?void 0:_props$diagramConfig6.defaultEdgeArrowSize)||defaultDiagramConfig.defaultEdgeArrowSize,defaultEdgeStrokeColor:(null===(_props$diagramConfig7=props.diagramConfig)||void 0===_props$diagramConfig7?void 0:_props$diagramConfig7.defaultEdgeStrokeColor)||defaultDiagramConfig.defaultEdgeStrokeColor,defaultEdgeStrokeStyle:(null===(_props$diagramConfig8=props.diagramConfig)||void 0===_props$diagramConfig8?void 0:_props$diagramConfig8.defaultEdgeStrokeStyle)||defaultDiagramConfig.defaultEdgeStrokeStyle,defaultRenderFunction:(null===(_props$diagramConfig9=props.diagramConfig)||void 0===_props$diagramConfig9?void 0:_props$diagramConfig9.defaultRenderFunction)||defaultDiagramConfig.defaultRenderFunction},animationsOn=void 0!==props.animationsOn&&props.animationsOn,flowDiagrams=Array.isArray(props.flowDiagram)?props.flowDiagram:[props.flowDiagram],_React$useReducer2=flow_diagram_explorer_slicedToArray(react_default.a.useReducer(DiagramReducer,{flowDiagrams:flowDiagrams,diagramConfig:diagramConfig,renderFunctions:props.renderFunctions,flowStyles:props.flowStyles},diagram_reducer_DiagramReducerInit),2),state=_React$useReducer2[0],dispatch=_React$useReducer2[1];return react_default.a.useEffect((function(){dispatch({type:DiagramActionTypes.ChangeDiagram,payload:{diagram:flowDiagrams}})}),[props.flowDiagram]),Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer",children:Object(jsx_runtime.jsx)(DiagramConfigContext.Provider,{value:diagramConfig,children:flowDiagrams.length>0?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer__Levels",children:Object(jsx_runtime.jsx)(core_react_umd.Breadcrumbs,{children:state.currentPath.map((function(pathElement,index,array){return index===array.length-1?Object(jsx_runtime.jsx)(core_react_umd.Breadcrumbs.Breadcrumb,{href:"#",onClick:function onClick(e){return e.preventDefault()},children:pathElement.title},pathElement.id):Object(jsx_runtime.jsx)(core_react_umd.Breadcrumbs.Breadcrumb,{href:"#",onClick:function onClick(e){e.preventDefault(),dispatch({type:DiagramActionTypes.MoveUpToNode,payload:{nodeId:pathElement.id}})},children:pathElement.title},pathElement.id)}))})}),Object(jsx_runtime.jsx)("div",{className:"FlowDiagramExplorer__TimelineContainer",children:Object(jsx_runtime.jsx)(timeline_Timeline,{onDateChange:function onDateChange(date){return dispatch({type:DiagramActionTypes.ChangeDate,payload:{date:date}})},initialDate:state.fixed.globalStartDate,timeFrames:state.currentPath[state.currentPath.length-1].timeframes})}),Object(jsx_runtime.jsx)(map_Map,{ActionHandler:Object(jsx_runtime.jsx)(node_action_handler_NodeActionHandler,{sceneProperties:state.currentDiagram,onNodeClick:function onNodeClick(nodeId){return dispatch({type:DiagramActionTypes.MoveDown,payload:{id:nodeId}})}}),Scene:Object(jsx_runtime.jsx)(scene_Scene,{id:state.currentPath[state.currentPath.length-1].id,size:state.currentDiagram?state.currentDiagram.sceneSize:{width:0,height:0},animationsOn:animationsOn,onNodeClick:props.onNodeClick?props.onNodeClick:function(nodeId){return dispatch({type:DiagramActionTypes.MoveDown,payload:{id:nodeId}})},children:state.currentDiagram?state.currentDiagram.sceneItems:[]}),width:props.width,height:props.height,sceneSize:state.currentDiagram?state.currentDiagram.sceneSize:{width:0,height:0},id:state.currentPath[state.currentPath.length-1].id,config:diagramConfig})]}):Object(jsx_runtime.jsx)(diagram_skeleton_DiagramSkeleton,{})})})};flow_diagram_explorer_FlowDiagramExplorer.displayName="FlowDiagramExplorer";var FlowDiagramExplorer_flow_diagram_explorer=flow_diagram_explorer_FlowDiagramExplorer;try{flowdiagramexplorer.displayName="flowdiagramexplorer",flowdiagramexplorer.__docgenInfo={description:"",displayName:"flowdiagramexplorer",props:{flowDiagram:{defaultValue:null,description:"",name:"flowDiagram",required:!0,type:{name:"FlowDiagram | FlowDiagram[]"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"string | number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"string | number"}},renderFunctions:{defaultValue:null,description:"",name:"renderFunctions",required:!1,type:{name:"RenderFunctions"}},flowStyles:{defaultValue:null,description:"",name:"flowStyles",required:!1,type:{name:"FlowStyles"}},diagramConfig:{defaultValue:null,description:"",name:"diagramConfig",required:!1,type:{name:"Partial<DiagramConfig>"}},animationsOn:{defaultValue:null,description:"",name:"animationsOn",required:!1,type:{name:"boolean"}},onNodeClick:{defaultValue:null,description:"",name:"onNodeClick",required:!1,type:{name:"((nodeId: string) => void)"}},onDiagramChange:{defaultValue:null,description:"",name:"onDiagramChange",required:!1,type:{name:"((title: string) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/components/FlowDiagramExplorer/flow-diagram-explorer.tsx#flowdiagramexplorer"]={docgenInfo:flowdiagramexplorer.__docgenInfo,name:"flowdiagramexplorer",path:"src/lib/components/FlowDiagramExplorer/flow-diagram-explorer.tsx#flowdiagramexplorer"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__(2855);var _path,_circle,_circle2,_circle3,_circle4,_circle5,_path2,_path3,_circle6,_circle7,_circle8,_circle9,_circle10,_path4,_path5,render_library_Template_template=function createRenderFunction(NodeSymbol){return function(node){return{html:Object(jsx_runtime.jsxs)("div",{className:"RenderLibrary__DiagramNode",children:[Object(jsx_runtime.jsx)(NodeSymbol,{className:"RenderLibrary__DiagramSymbol"}),node.title]}),width:220,height:140}}};try{template.displayName="template",template.__docgenInfo={description:"",displayName:"template",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/Template/template.tsx#template"]={docgenInfo:template.__docgenInfo,name:"template",path:"src/lib/render-library/Template/template.tsx#template"})}catch(__react_docgen_typescript_loader_error){}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var _g,cableRenderer=render_library_Template_template((function SvgCable(props){return react.createElement("svg",_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 209.7 97.2",overflow:"visible"},props),_path||(_path=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeMiterlimit:10,d:"M83 88.7H68.3c-3.6 0-6.5-2.9-6.5-6.5V15c0-3.6 2.9-6.5 6.5-6.5h15.1"})),_circle||(_circle=react.createElement("circle",{cx:93.8,cy:16.2,r:3.3})),_circle2||(_circle2=react.createElement("circle",{cx:93.8,cy:49.1,r:3.3})),_circle3||(_circle3=react.createElement("circle",{cx:93.8,cy:32.6,r:3.3})),_circle4||(_circle4=react.createElement("circle",{cx:93.8,cy:65.6,r:3.3})),_circle5||(_circle5=react.createElement("circle",{cx:93.8,cy:82.1,r:3.3})),_path2||(_path2=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeMiterlimit:10,d:"M6 77.7c0-7.3-4.5-7.3-4.5-14.6S6 55.8 6 48.5s-4.5-7.3-4.5-14.6S6 26.6 6 19.3h55.8v58.2H6"})),_path3||(_path3=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeMiterlimit:10,d:"M102.2 95.7V1.5H89c-3.1 0-5.7 2.2-5.7 4.8v84.5c0 2.7 2.5 4.8 5.7 4.8l13.2.1h0zM126.7 88.7h14.7c3.6 0 6.5-2.9 6.5-6.5V15c0-3.6-2.9-6.5-6.5-6.5h-15.1"})),_circle6||(_circle6=react.createElement("circle",{cx:115.9,cy:16.2,r:3.3})),_circle7||(_circle7=react.createElement("circle",{cx:115.9,cy:49.1,r:3.3})),_circle8||(_circle8=react.createElement("circle",{cx:115.9,cy:32.6,r:3.3})),_circle9||(_circle9=react.createElement("circle",{cx:115.9,cy:65.6,r:3.3})),_circle10||(_circle10=react.createElement("circle",{cx:115.9,cy:82.1,r:3.3})),_path4||(_path4=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeMiterlimit:10,d:"M203.8 77.7c0-7.3 4.5-7.3 4.5-14.6s-4.5-7.3-4.5-14.6 4.5-7.3 4.5-14.6-4.5-7.3-4.5-14.6h0H148v58.2h55.8"})),_path5||(_path5=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeMiterlimit:10,d:"M107.5 95.7V1.5h13.2c3.1 0 5.7 2.2 5.7 4.8v84.5c0 2.7-2.5 4.8-5.7 4.8l-13.2.1h0z"})))}));try{cableRenderer.displayName="cableRenderer",cableRenderer.__docgenInfo={description:"",displayName:"cableRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/Cable/cable.tsx#cableRenderer"]={docgenInfo:cableRenderer.__docgenInfo,name:"cableRenderer",path:"src/lib/render-library/Cable/cable.tsx#cableRenderer"})}catch(__react_docgen_typescript_loader_error){}function compressor_extends(){return compressor_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},compressor_extends.apply(this,arguments)}var compressor_system_g,compressorRenderer=render_library_Template_template((function SvgCompressor(props){return react.createElement("svg",compressor_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 107.2 120",overflow:"visible"},props),_g||(_g=react.createElement("g",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10},react.createElement("path",{d:"M105.7 80.2l-90.4 20.4V4.5l90.4 20.4zM34.4 97.2v16.1H20.5V100"}),react.createElement("path",{d:"M15.4 113.3H39v5.2H15.4zM15.3 62.2H1.5V42.9h13.8M100.8 23.8V6.7H86.9V20M82 1.5h23.6v5.2H82z"}))))}));try{compressorRenderer.displayName="compressorRenderer",compressorRenderer.__docgenInfo={description:"",displayName:"compressorRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/Compressor/compressor.tsx#compressorRenderer"]={docgenInfo:compressorRenderer.__docgenInfo,name:"compressorRenderer",path:"src/lib/render-library/Compressor/compressor.tsx#compressorRenderer"})}catch(__react_docgen_typescript_loader_error){}function compressor_system_extends(){return compressor_system_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},compressor_system_extends.apply(this,arguments)}var direct_path,direct_g,compressorSystemRenderer=render_library_Template_template((function SvgCompressorSystem(props){return react.createElement("svg",compressor_system_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 138.6 144.5",overflow:"visible"},props),compressor_system_g||(compressor_system_g=react.createElement("g",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10},react.createElement("path",{d:"M36.8 95.7l-21.5 4.9V4.5l90.4 20.4v7.5M34.4 97.2v16.1H20.5V100"}),react.createElement("path",{d:"M36.7 118.5H15.4v-5.2h21.1M15.3 62.2H1.5V42.9h13.8M100.8 23.8V6.7H86.9V20M82 1.5h23.6v5.2H82zM137.1 104.7L46.7 125V29l90.4 20.3zM65.9 121.6v16.1H52v-13.2M46.9 137.7h23.6v5.2H46.9zM46.7 86.7H33V67.3h13.7M132.3 48.2v-17h-13.9v13.2M113.5 26h23.6v5.2h-23.6z"}))))}));try{compressorSystemRenderer.displayName="compressorSystemRenderer",compressorSystemRenderer.__docgenInfo={description:"",displayName:"compressorSystemRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/CompressorSystem/compressor-system.tsx#compressorSystemRenderer"]={docgenInfo:compressorSystemRenderer.__docgenInfo,name:"compressorSystemRenderer",path:"src/lib/render-library/CompressorSystem/compressor-system.tsx#compressorSystemRenderer"})}catch(__react_docgen_typescript_loader_error){}function direct_extends(){return direct_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},direct_extends.apply(this,arguments)}var engine_g,directRenderer=render_library_Template_template((function SvgDirect(props){return react.createElement("svg",direct_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 112 102.5",overflow:"visible"},props),direct_path||(direct_path=react.createElement("path",{stroke:"#000",strokeWidth:8,strokeMiterlimit:10,d:"M28.4 35H40c1.9-8.1 4.1-14.2 6.6-18.2s5.7-7.1 9.7-9.4S64 4 67.5 4c2 0 3.5.4 4.5 1.2s1.5 1.7 1.5 2.8c0 1-.3 1.8-1 2.4-.7.7-1.6 1-2.7 1s-3.3-.3-6.5-1c-1.6-.3-2.8-.5-3.7-.5-2.2 0-4.1 1.3-5.8 4s-3.1 6.2-4.2 10.8L47.3 35h12.9l-.8 3.5H46.3l-7.6 31.2c-2.4 9.5-6.2 16.7-11.4 21.5s-10.9 7.3-17 7.3c-2.1 0-3.6-.4-4.7-1.2-1.1-.8-1.6-1.8-1.6-3 0-1 .4-1.8 1.1-2.4.7-.6 1.8-.9 3.1-.9.7 0 1.7.1 3 .2 2.3.3 4.5.4 6.5.4 3.2 0 5.6-.8 7-2.3s2.9-5.2 4.4-11.1L39 38.4H27.5l.9-3.4z"})),direct_g||(direct_g=react.createElement("g",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10},react.createElement("path",{d:"M69.4 53c-4.4 5.9-7.6 13.7-7.6 24.5 0 10.7 3.3 18.4 7.6 24.4h-4.1c-3.8-5-7.9-12.7-7.9-24.4 0-11.8 4.1-19.5 7.8-24.5h4.2zM77.4 65.6l4.1 6.2c1.1 1.6 2 3.1 2.9 4.7h.2c1-1.7 1.9-3.2 2.9-4.8l4.1-6.2h5.7l-9.9 14 10.2 15h-6L87.3 88c-1.1-1.7-2.1-3.3-3.1-5h-.1c-1 1.7-2 3.3-3.1 5l-4.2 6.5H71l10.3-14.8-9.8-14.2h5.9v.1zM99.6 101.9c4.3-5.9 7.6-13.7 7.6-24.5 0-10.7-3.2-18.4-7.6-24.4h4.1c3.8 4.9 7.9 12.6 7.9 24.4s-4 19.4-7.9 24.5h-4.1z"}))))}));try{directRenderer.displayName="directRenderer",directRenderer.__docgenInfo={description:"",displayName:"directRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/Direct/direct.tsx#directRenderer"]={docgenInfo:directRenderer.__docgenInfo,name:"directRenderer",path:"src/lib/render-library/Direct/direct.tsx#directRenderer"})}catch(__react_docgen_typescript_loader_error){}function engine_extends(){return engine_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},engine_extends.apply(this,arguments)}var engine_generator_set_path,engine_generator_set_path2,engine_generator_set_path3,engine_generator_set_g,_g2,engineRenderer=render_library_Template_template((function SvgEngine(props){return react.createElement("svg",engine_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 227 136.7",overflow:"visible"},props),engine_g||(engine_g=react.createElement("g",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10},react.createElement("path",{d:"M214.9 117.3h0c3.6 0 6.5-2.6 6.5-5.9V84.6l4-17.3V40.4c-4-3.2-2.6-5.9-8.5-5.9h-2c-3.6 0-6.5 2.6-6.5 5.9v71c0 3.2 2.9 5.9 6.5 5.9zM166 5.7h0c0-2.3-1.9-4.2-4.2-4.2H77.9c-2.3 0-4.2 1.9-4.2 4.2h0c0 2.3 1.9 4.2 4.2 4.2h83.9c2.3 0 4.2-1.9 4.2-4.2zM27.4 108.7h24.4v26.5h77.6l45.1-26.3h16.8v-66l-33.5-22.1H75.6L51.8 46v12.8H27V46H14.3L1.5 58.8v49.9l12.8 12.7H27v-12.7"}),react.createElement("path",{d:"M126.4 20.8V9.9h-13v10.9M191.2 84.6h17.2V67.2h-17.2"}))))}));try{engineRenderer.displayName="engineRenderer",engineRenderer.__docgenInfo={description:"",displayName:"engineRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/Engine/engine.tsx#engineRenderer"]={docgenInfo:engineRenderer.__docgenInfo,name:"engineRenderer",path:"src/lib/render-library/Engine/engine.tsx#engineRenderer"})}catch(__react_docgen_typescript_loader_error){}function engine_generator_set_extends(){return engine_generator_set_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},engine_generator_set_extends.apply(this,arguments)}var generator_path,generator_path2,generator_path3,generator_path4,engineGeneratorSetRenderer=render_library_Template_template((function SvgEngineGeneratorSet(props){return react.createElement("svg",engine_generator_set_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 391.4 142.3",overflow:"visible"},props),engine_generator_set_path||(engine_generator_set_path=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinejoin:"round",strokeMiterlimit:10,d:"M247 27.3h142.9v93.3H247zM261.4 120.6h22.5v20.2h-22.5zM354.8 120.6h22.5v20.2h-22.5z"})),engine_generator_set_path2||(engine_generator_set_path2=react.createElement("path",{d:"M323.4 72.3l14.1-24.1h-19l-15.7 29.4h10.3l-13.8 22.2 34.1-27.5z"})),engine_generator_set_path3||(engine_generator_set_path3=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,d:"M246.6 97.7H242c-2.8 0-5-3.9-5-8.7V62.6c0-4.8 2.3-8.7 5-8.7h4.6M225.3 84.5H237M237 67.1h-8.6"})),engine_generator_set_g||(engine_generator_set_g=react.createElement("g",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10},react.createElement("path",{d:"M166 5.7h0c0-2.3-1.9-4.2-4.2-4.2H77.9c-2.3 0-4.2 1.9-4.2 4.2h0c0 2.3 1.9 4.2 4.2 4.2h83.9c2.3 0 4.2-1.9 4.2-4.2zM27.4 108.7h24.4v26.5h77.6l45.1-26.3h16.8v-66l-33.5-22.1H75.6L51.8 46v12.8H27V46H14.3L1.5 58.8v49.9l12.8 12.7H27v-12.7"}),react.createElement("path",{d:"M126.4 20.8V9.9h-13v10.9M210.7 67.2h-19.5M191.2 84.6h14"}))),_g2||(_g2=react.createElement("g",null,react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,d:"M219.2 48.7c0 5.3-6 5.3-6 10.7 0 5.3 6 5.3 6 10.7 0 5.3-6 5.3-6 10.7 0 5.3 6 5.3 6 10.7 0 5.3-6 5.3-6 10.7"}))))}));try{engineGeneratorSetRenderer.displayName="engineGeneratorSetRenderer",engineGeneratorSetRenderer.__docgenInfo={description:"",displayName:"engineGeneratorSetRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/EngineGeneratorSet/engine-generator-set.tsx#engineGeneratorSetRenderer"]={docgenInfo:engineGeneratorSetRenderer.__docgenInfo,name:"engineGeneratorSetRenderer",path:"src/lib/render-library/EngineGeneratorSet/engine-generator-set.tsx#engineGeneratorSetRenderer"})}catch(__react_docgen_typescript_loader_error){}function generator_extends(){return generator_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},generator_extends.apply(this,arguments)}var installation_path,installation_path2,generatorRenderer=render_library_Template_template((function SvgGenerator(props){return react.createElement("svg",generator_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 173.1 129.3",overflow:"visible"},props),generator_path||(generator_path=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinejoin:"round",strokeMiterlimit:10,d:"M28.7 1.5h142.9v103.8H28.7zM43.1 105.3h22.5v22.5H43.1zM136.6 105.3h22.5v22.5h-22.5z"})),generator_path2||(generator_path2=react.createElement("path",{d:"M105.1 51.5l14.1-26.8h-19L84.5 57.4h10.3L81 82.2l34.1-30.7z"})),generator_path3||(generator_path3=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,d:"M28.4 79.8h-4.6c-2.8 0-5-4.4-5-9.7V40.8c0-5.3 2.3-9.7 5-9.7h4.6"})),generator_path4||(generator_path4=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,d:"M18.8 45.8H1.5v19.3h17.3"})))}));try{generatorRenderer.displayName="generatorRenderer",generatorRenderer.__docgenInfo={description:"",displayName:"generatorRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/Generator/generator.tsx#generatorRenderer"]={docgenInfo:generatorRenderer.__docgenInfo,name:"generatorRenderer",path:"src/lib/render-library/Generator/generator.tsx#generatorRenderer"})}catch(__react_docgen_typescript_loader_error){}function installation_extends(){return installation_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},installation_extends.apply(this,arguments)}var pump_g,installationRenderer=render_library_Template_template((function SvgInstallation(props){return react.createElement("svg",installation_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 204.4 250.8",overflow:"visible"},props),installation_path||(installation_path=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinejoin:"round",strokeMiterlimit:10,d:"M13.6 84.1h177.1v59.8H13.6zM129.2 144v78.1M75.3 222.1V144M13.7 144l61.6 39M129.2 183l61.6-39M50.2 1.5L25.7 84.1h49zM35.2 1.5h30"})),installation_path2||(installation_path2=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,d:"M102.2 237.3l20.1 12 20.2-12 20.1 12 20.1-12 20.2 12M102.2 237.8l-20.2 11-20.1-11-20.1 11-20.2-11-20.1 11"})))}));try{installationRenderer.displayName="installationRenderer",installationRenderer.__docgenInfo={description:"",displayName:"installationRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/Installation/installation.tsx#installationRenderer"]={docgenInfo:installationRenderer.__docgenInfo,name:"installationRenderer",path:"src/lib/render-library/Installation/installation.tsx#installationRenderer"})}catch(__react_docgen_typescript_loader_error){}function pump_extends(){return pump_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},pump_extends.apply(this,arguments)}var pump_system_g,pumpRenderer=render_library_Template_template((function SvgPump(props){return react.createElement("svg",pump_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 193.7 145.3",overflow:"visible"},props),pump_g||(pump_g=react.createElement("g",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10},react.createElement("circle",{cx:96.8,cy:72.7,r:64.1}),react.createElement("circle",{cx:96.8,cy:72.7,r:24.1}),react.createElement("path",{d:"M96.8 8.5h85.8v40.1h-25.9M182.6 1.5h9.6v54.1h-9.6zM96.8 136.8H11.1V96.7H37M1.5 89.7h9.6v54.1H1.5z"}))))}));try{pumpRenderer.displayName="pumpRenderer",pumpRenderer.__docgenInfo={description:"",displayName:"pumpRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/Pump/pump.tsx#pumpRenderer"]={docgenInfo:pumpRenderer.__docgenInfo,name:"pumpRenderer",path:"src/lib/render-library/Pump/pump.tsx#pumpRenderer"})}catch(__react_docgen_typescript_loader_error){}function pump_system_extends(){return pump_system_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},pump_system_extends.apply(this,arguments)}var tabulated_path,tabulated_path2,pumpSystemRenderer=render_library_Template_template((function SvgPumpSystem(props){return react.createElement("svg",pump_system_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 217.7 169.4",overflow:"visible"},props),pump_system_g||(pump_system_g=react.createElement("g",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10},react.createElement("circle",{cx:120.9,cy:96.7,r:64.1}),react.createElement("circle",{cx:120.9,cy:96.7,r:24.1}),react.createElement("path",{d:"M120.9 32.6h85.7v40.1h-25.9"}),react.createElement("path",{d:"M206.6 25.6h9.6v54.1h-9.6zM120.9 160.9H35.2v-40.1h25.9M25.5 113.7h9.6v54.1h-9.6z"}),react.createElement("g",null,react.createElement("path",{d:"M41.5 105.2c-5.6-9.5-8.8-20.6-8.8-32.5 0-35.4 28.7-64.1 64.1-64.1 15.2 0 29.2 5.3 40.2 14.1M96.8 8.5h85.8M182.6 22.6V1.5h9.6v21.1M15.8 136.8h-4.7V96.7H37M1.5 89.7h9.6v54.1H1.5z"})))))}));try{pumpSystemRenderer.displayName="pumpSystemRenderer",pumpSystemRenderer.__docgenInfo={description:"",displayName:"pumpSystemRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/PumpSystem/pump-system.tsx#pumpSystemRenderer"]={docgenInfo:pumpSystemRenderer.__docgenInfo,name:"pumpSystemRenderer",path:"src/lib/render-library/PumpSystem/pump-system.tsx#pumpSystemRenderer"})}catch(__react_docgen_typescript_loader_error){}function tabulated_extends(){return tabulated_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},tabulated_extends.apply(this,arguments)}var turbine_g,tabulatedRenderer=render_library_Template_template((function SvgTabulated(props){return react.createElement("svg",tabulated_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 134 107.3",overflow:"visible"},props),tabulated_path||(tabulated_path=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinejoin:"round",strokeMiterlimit:10,d:"M1.5 1.5h131v104.3H1.5zM1.5 32.7h131M44.7 1.5v104.3M90 1.5v104.3M1.5 56.7h131M1.5 80.6h131"})),tabulated_path2||(tabulated_path2=react.createElement("path",{d:"M1.5 1.5h131v31.2H1.5z"})))}));try{tabulatedRenderer.displayName="tabulatedRenderer",tabulatedRenderer.__docgenInfo={description:"",displayName:"tabulatedRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/Tabulated/tabulated.tsx#tabulatedRenderer"]={docgenInfo:tabulatedRenderer.__docgenInfo,name:"tabulatedRenderer",path:"src/lib/render-library/Tabulated/tabulated.tsx#tabulatedRenderer"})}catch(__react_docgen_typescript_loader_error){}function turbine_extends(){return turbine_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},turbine_extends.apply(this,arguments)}var turbine_generator_set_g,turbine_generator_set_path,turbine_generator_set_path2,turbine_generator_set_path3,turbine_generator_set_path4,turbineRenderer=render_library_Template_template((function SvgTurbine(props){return react.createElement("svg",turbine_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 254.3 135.6",overflow:"visible"},props),turbine_g||(turbine_g=react.createElement("g",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10},react.createElement("path",{d:"M129.3 95.7l-114 20.4V20l114 20.4zM163 101.7l72.6 14.4V20L163 34.4zM129.3 10.7h33.6v114.8h-33.6z"}),react.createElement("path",{d:"M216.8 23.8V6.7h13.9V20M212 1.5h23.6v5.2H212zM34.4 112.7v16.1H20.5v-13.2M15.4 128.8H39v5.2H15.4zM15.2 77.7H1.5V58.4h13.7M235.6 58.4h17.2v19.3h-17.2"}))))}));try{turbineRenderer.displayName="turbineRenderer",turbineRenderer.__docgenInfo={description:"",displayName:"turbineRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/Turbine/turbine.tsx#turbineRenderer"]={docgenInfo:turbineRenderer.__docgenInfo,name:"turbineRenderer",path:"src/lib/render-library/Turbine/turbine.tsx#turbineRenderer"})}catch(__react_docgen_typescript_loader_error){}function turbine_generator_set_extends(){return turbine_generator_set_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},turbine_generator_set_extends.apply(this,arguments)}var wind_turbine_g,turbineGeneratorSetRenderer=render_library_Template_template((function SvgTurbineGeneratorSet(props){return react.createElement("svg",turbine_generator_set_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 432.1 141.8",overflow:"visible"},props),turbine_generator_set_g||(turbine_generator_set_g=react.createElement("g",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10},react.createElement("path",{d:"M129.3 95.7l-114 20.4V20l114 20.4zM163 101.7l72.6 14.4V20L163 34.4zM129.3 10.7h33.6v114.8h-33.6z"}),react.createElement("path",{d:"M216.8 23.8V6.7h13.9V20M212 1.5h23.6v5.2H212zM34.4 112.7v16.1H20.5v-13.2M15.4 128.8H39v5.2H15.4zM15.2 77.7H1.5V58.4h13.7M250 77.7h-14.4M235.6 58.4h17.2"}))),turbine_generator_set_path||(turbine_generator_set_path=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,d:"M262.4 41.8c0 5.3-6 5.3-6 10.7 0 5.3 6 5.3 6 10.7 0 5.3-6 5.3-6 10.7 0 5.3 6 5.3 6 10.7 0 5.3-6 5.3-6 10.7"})),turbine_generator_set_path2||(turbine_generator_set_path2=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinejoin:"round",strokeMiterlimit:10,d:"M287.7 14.3h142.9v103.5H287.7zM302.1 117.9h22.5v22.4h-22.5zM395.6 117.9h22.5v22.4h-22.5z"})),turbine_generator_set_path3||(turbine_generator_set_path3=react.createElement("path",{d:"M364.1 64.2l14.1-26.8h-19l-15.7 32.7h10.3L340 94.8l34.2-30.6z"})),turbine_generator_set_path4||(turbine_generator_set_path4=react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:3,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,d:"M287.4 92.4h-4.6c-2.8 0-5-4.3-5-9.7V53.5c0-5.3 2.3-9.7 5-9.7h4.6M266 77.7h11.8M277.8 58.5h-8.7"})))}));try{turbineGeneratorSetRenderer.displayName="turbineGeneratorSetRenderer",turbineGeneratorSetRenderer.__docgenInfo={description:"",displayName:"turbineGeneratorSetRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/TurbineGeneratorSet/turbine-generator-set.tsx#turbineGeneratorSetRenderer"]={docgenInfo:turbineGeneratorSetRenderer.__docgenInfo,name:"turbineGeneratorSetRenderer",path:"src/lib/render-library/TurbineGeneratorSet/turbine-generator-set.tsx#turbineGeneratorSetRenderer"})}catch(__react_docgen_typescript_loader_error){}function wind_turbine_extends(){return wind_turbine_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},wind_turbine_extends.apply(this,arguments)}var wind_turbine_system_g,windTurbineRenderer=render_library_Template_template((function SvgWindTurbine(props){return react.createElement("svg",wind_turbine_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 171.1 242.8",overflow:"visible"},props),wind_turbine_g||(wind_turbine_g=react.createElement("g",{fill:"none",stroke:"#000",strokeWidth:3,strokeMiterlimit:10},react.createElement("path",{d:"M85.6 0v97.9M.8 146.9l84.8-49M170.4 146.9l-84.8-49"}),react.createElement("path",{strokeLinejoin:"round",d:"M85.6 114.4L67.3 241.3h36.5z"}))))}));try{windTurbineRenderer.displayName="windTurbineRenderer",windTurbineRenderer.__docgenInfo={description:"",displayName:"windTurbineRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/WindTurbine/wind-turbine.tsx#windTurbineRenderer"]={docgenInfo:windTurbineRenderer.__docgenInfo,name:"windTurbineRenderer",path:"src/lib/render-library/WindTurbine/wind-turbine.tsx#windTurbineRenderer"})}catch(__react_docgen_typescript_loader_error){}function wind_turbine_system_extends(){return wind_turbine_system_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},wind_turbine_system_extends.apply(this,arguments)}var windTurbineSystemRenderer=render_library_Template_template((function SvgWindTurbineSystem(props){return react.createElement("svg",wind_turbine_system_extends({baseProfile:"tiny",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 237.7 265.5",overflow:"visible"},props),wind_turbine_system_g||(wind_turbine_system_g=react.createElement("g",{fill:"none",stroke:"#020202",strokeWidth:3,strokeMiterlimit:10},react.createElement("path",{d:"M85.6 22.7v97.9M.8 169.6l84.8-49M170.4 169.6l-84.8-49"}),react.createElement("path",{strokeLinejoin:"round",d:"M85.6 137.1L67.3 264h36.5z"}),react.createElement("g",null,react.createElement("path",{d:"M152.1 0v97.9M109.7 122.4l42.4-24.5M67.3 146.9l7.4-4.3M236.9 146.9l-84.8-49"}),react.createElement("path",{strokeLinejoin:"round",d:"M157.4 150.9l-5.3-36.5-4.5 30.9M144.6 166.2l-10.8 75.1h36.6l-9.5-65.9"})))))}));try{windTurbineSystemRenderer.displayName="windTurbineSystemRenderer",windTurbineSystemRenderer.__docgenInfo={description:"",displayName:"windTurbineSystemRenderer",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},type:{defaultValue:null,description:"",name:"type",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},icon:{defaultValue:null,description:"",name:"icon",required:!1,type:{name:"string"}},subdiagram:{defaultValue:null,description:"",name:"subdiagram",required:!1,type:{name:"FlowDiagram | FlowDiagram[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/lib/render-library/WindTurbineSystem/wind-turbine-system.tsx#windTurbineSystemRenderer"]={docgenInfo:windTurbineSystemRenderer.__docgenInfo,name:"windTurbineSystemRenderer",path:"src/lib/render-library/WindTurbineSystem/wind-turbine-system.tsx#windTurbineSystemRenderer"})}catch(__react_docgen_typescript_loader_error){}var nodeRenderTypes={cable:cableRenderer,compressor:compressorRenderer,"compressor-system":compressorSystemRenderer,direct:directRenderer,engine:engineRenderer,"engine-generator-set":engineGeneratorSetRenderer,generator:generatorRenderer,"input-output-node":function renderInputOutputNode(){return{html:Object(jsx_runtime.jsx)("div",{style:{width:0,height:0}}),width:0,height:100}},installation:installationRenderer,pump:pumpRenderer,"pump-system":pumpSystemRenderer,tabulated:tabulatedRenderer,turbine:turbineRenderer,"turbine-generator-set":turbineGeneratorSetRenderer,"wind-turbine":windTurbineRenderer,"wind-turbine-system":windTurbineSystemRenderer},flow_diagram_explorer_stories_Template=(__webpack_exports__.default={component:FlowDiagramExplorer_flow_diagram_explorer,title:"FlowDiagramExplorer"},function Template(props){return Object(jsx_runtime.jsx)(FlowDiagramExplorer_flow_diagram_explorer,Object.assign({},props))});flow_diagram_explorer_stories_Template.displayName="Template";var Simple=flow_diagram_explorer_stories_Template.bind({}),compressorSystem={id:"compressor-system1",title:"Compressor system 1",icon:"compressor-system",subdiagram:[{id:"compressor-system1",title:"Compressor system 1",nodes:[{id:"system1-comp1",title:"Compressor 1",icon:"compressor"},{id:"system1-comp2",title:"Compressor 2",icon:"compressor"}],edges:[],flows:[],startDate:"2018-01-01",endDate:"2020-01-01"},{id:"compressor-system1",title:"Compressor system 1",nodes:[{id:"system1-comp1",title:"Compressor 1",icon:"compressor"},{id:"system1-comp2",title:"Compressor 2",icon:"compressor"},{id:"system1-comp3",title:"Compressor 3",icon:"compressor"}],edges:[],flows:[],startDate:"2020-01-01",endDate:"2021-06-29"}]},simpleInstallation=[{id:"installation-diagram-1",title:"Installation1",nodes:[{id:"fuel-node"},compressorSystem],edges:[{fromNode:"fuel-node",toNode:"compressor-system1",flow:"fuel-flow"}],flows:[{id:"fuel-flow",label:"Fuel"}],startDate:"2018-01-01",endDate:"2019-01-01"},{id:"installation-diagram-1",title:"Installation1",nodes:[{id:"fuel-node"},compressorSystem,{id:"compressor1",title:"Compressor 1",icon:"compressor"}],edges:[{fromNode:"fuel-node",toNode:"compressor-system1",flow:"fuel-flow"},{fromNode:"fuel-node",toNode:"compressor1",flow:"fuel-flow"}],flows:[{id:"fuel-flow",label:"Fuel"}],startDate:"2019-01-01",endDate:"2021-06-29"}];Simple.args={flowDiagram:simpleInstallation,renderFunctions:nodeRenderTypes,width:"100%",height:"600px",diagramConfig:defaultDiagramConfig};var Basic=flow_diagram_explorer_stories_Template.bind({});Basic.args={flowDiagram:[{id:"installation",title:"World",startDate:"2005-12-18",endDate:"2019-05-05",nodes:[{id:"input",title:"Input",type:"input-output-node"},{id:"windfarm1",title:"Wind farm 1",type:"wind-turbine-system"},{id:"windfarm2",title:"Wind farm 2",type:"wind-turbine-system"},{id:"windfarm3",title:"Wind farm 3",type:"wind-turbine-system"},{id:"power-from-shore",title:"Power from shore",type:"cable"},{id:"installation1",title:"Installation 1",type:"installation",subdiagram:{id:"installation1",title:"Installation",nodes:[{id:"input",title:"Input",type:"input-output-node"},{id:"pump1",title:"Pump 1",type:"pump"},{id:"pump2",title:"Pump 2",type:"pump"},{id:"pump3",title:"Pump 3",type:"pump"},{id:"pump4",title:"Pump 4",type:"pump"}],flows:[{id:"something",label:"Something"}],edges:[{flow:"something",fromNode:"input",toNode:"pump1"},{flow:"something",fromNode:"input",toNode:"pump2"},{flow:"something",fromNode:"input",toNode:"pump3"},{flow:"something",fromNode:"input",toNode:"pump4"}]}},{id:"oil-output",title:"Oil output",type:"input-output-node"},{id:"emissions-output",title:"Output",type:"input-output-node"},{id:"electricity-output",title:"Output",type:"input-output-node"}],flows:[{id:"electricity-import",label:"Electricity import",type:"electricity-import"},{id:"electricity-export",label:"Electricity export",type:"electricity-export"},{id:"emissions",label:"Emissions",type:"emissions"},{id:"fuel",label:"Fuel",type:"fuel"},{id:"oil",label:"Oil",type:"oil"}],edges:[{flow:"electricity-import",fromNode:"windfarm1",toNode:"installation1"},{flow:"electricity-import",fromNode:"windfarm2",toNode:"installation1"},{flow:"electricity-import",fromNode:"windfarm3",toNode:"installation1"},{flow:"electricity-import",fromNode:"power-from-shore",toNode:"installation1"},{flow:"fuel",fromNode:"input",toNode:"installation1"},{flow:"emissions",fromNode:"installation1",toNode:"emissions-output"},{flow:"oil",fromNode:"installation1",toNode:"oil-output"},{flow:"electricity-export",fromNode:"installation1",toNode:"electricity-output"}]},{id:"installation",title:"World",startDate:"2019-05-06",endDate:"2020-01-04",nodes:[{id:"input",title:"Input",type:"input-output-node"},{id:"windfarm1",title:"Wind farm 1",type:"wind-turbine-system"},{id:"windfarm2",title:"Wind farm 2",type:"wind-turbine-system"},{id:"installation1",title:"Installation 1",type:"installation",subdiagram:{id:"installation1",title:"Installation",nodes:[{id:"input",title:"Input",type:"input-output-node"},{id:"pump1",title:"Pump 1",type:"pump"},{id:"pump2",title:"Pump 2",type:"pump"},{id:"pump3",title:"Pump 3",type:"pump"},{id:"pump4",title:"Pump 4",type:"pump"}],flows:[{id:"something",label:"Something"}],edges:[{flow:"something",fromNode:"input",toNode:"pump1"},{flow:"something",fromNode:"input",toNode:"pump2"},{flow:"something",fromNode:"input",toNode:"pump3"},{flow:"something",fromNode:"input",toNode:"pump4"}]}},{id:"installation2",title:"Installation 2",type:"installation"},{id:"oil-output",title:"Oil output",type:"input-output-node"},{id:"emissions-output",title:"Output",type:"input-output-node"},{id:"electricity-output",title:"Output",type:"input-output-node"}],flows:[{id:"electricity-import",label:"Electricity import",type:"electricity-import"},{id:"electricity-export",label:"Electricity export",type:"electricity-export"},{id:"emissions",label:"Emissions",type:"emissions"},{id:"fuel",label:"Fuel",type:"fuel"},{id:"oil",label:"Oil",type:"oil"}],edges:[{flow:"electricity-import",fromNode:"windfarm1",toNode:"installation1"},{flow:"electricity-import",fromNode:"windfarm2",toNode:"installation1"},{flow:"electricity-import",fromNode:"windfarm1",toNode:"installation2"},{flow:"electricity-import",fromNode:"windfarm2",toNode:"installation2"},{flow:"fuel",fromNode:"input",toNode:"installation1"},{flow:"fuel",fromNode:"input",toNode:"installation2"},{flow:"emissions",fromNode:"installation1",toNode:"emissions-output"},{flow:"oil",fromNode:"installation1",toNode:"oil-output"},{flow:"electricity-export",fromNode:"installation1",toNode:"electricity-output"}]}],renderFunctions:nodeRenderTypes,width:"100%",height:"600px",diagramConfig:defaultDiagramConfig};var Complex=flow_diagram_explorer_stories_Template.bind({});Complex.args={flowDiagram:[{id:"installation",title:"World",startDate:"2005-12-18",endDate:"2019-05-05",nodes:[{id:"input",title:"Input",type:"input-output-node"},{id:"turbine-generator-set",title:"Turbine generator set",type:"turbine-generator-set"},{id:"engine-generator-set",title:"Engine generator set",type:"engine-generator-set"},{id:"windfarm",title:"Wind farm",type:"wind-turbine-system"},{id:"power-from-shore",title:"Power from shore",type:"cable"},{id:"pump-system",title:"Pump system",type:"pump-system"},{id:"compressor-system",title:"Compressor system",type:"compressor-system"},{id:"installation",title:"Installation",type:"installation"},{id:"direct",title:"Direct",type:"direct"},{id:"tabulated",title:"Tabulated",type:"tabulated"},{id:"oil-output",title:"Oil output",type:"input-output-node"},{id:"emissions-output",title:"Output",type:"input-output-node"},{id:"electricity-output",title:"Output",type:"input-output-node"}],flows:[{id:"electricity-import",label:"Electricity import",type:"electricity-import"},{id:"electricity-export",label:"Electricity export",type:"electricity-export"},{id:"electricity",label:"Electricity",type:"electricity"},{id:"emissions",label:"Emissions",type:"emissions"},{id:"fuel",label:"Fuel",type:"fuel"},{id:"oil",label:"Oil",type:"oil"},{id:"air",label:"Air",type:"air"}],edges:[{flow:"fuel",fromNode:"input",toNode:"turbine-generator-set"},{flow:"fuel",fromNode:"input",toNode:"engine-generator-set"},{flow:"emissions",fromNode:"turbine-generator-set",toNode:"emissions-output"},{flow:"emissions",fromNode:"engine-generator-set",toNode:"emissions-output"},{flow:"electricity",fromNode:"turbine-generator-set",toNode:"pump-system"},{flow:"electricity",fromNode:"engine-generator-set",toNode:"pump-system"},{flow:"electricity",fromNode:"windfarm",toNode:"pump-system"},{flow:"electricity-import",fromNode:"power-from-shore",toNode:"pump-system"},{flow:"electricity",fromNode:"turbine-generator-set",toNode:"compressor-system"},{flow:"electricity",fromNode:"engine-generator-set",toNode:"compressor-system"},{flow:"electricity",fromNode:"windfarm",toNode:"compressor-system"},{flow:"electricity-import",fromNode:"power-from-shore",toNode:"compressor-system"},{flow:"oil",fromNode:"pump-system",toNode:"direct"},{flow:"oil",fromNode:"pump-system",toNode:"tabulated"},{flow:"air",fromNode:"compressor-system",toNode:"installation"},{flow:"emissions",fromNode:"installation",toNode:"emissions-output"},{flow:"oil",fromNode:"installation",toNode:"oil-output"},{flow:"electricity-export",fromNode:"installation",toNode:"electricity-output"}]}],renderFunctions:nodeRenderTypes,width:"100%",height:"600px",diagramConfig:defaultDiagramConfig},Simple.parameters=Object.assign({storySource:{source:"(props) => <FlowDiagramExplorer {...props} />"}},Simple.parameters),Basic.parameters=Object.assign({storySource:{source:"(props) => <FlowDiagramExplorer {...props} />"}},Basic.parameters),Complex.parameters=Object.assign({storySource:{source:"(props) => <FlowDiagramExplorer {...props} />"}},Complex.parameters)},2868:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(2717),__webpack_require__(134),__webpack_require__(1158),__webpack_require__(1616),__webpack_require__(566),__webpack_require__(2719);var client_api=__webpack_require__(2905),esm=__webpack_require__(8),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))}},[[1828,2,3]]]);